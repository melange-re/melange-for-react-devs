<!DOCTYPE html>
<html lang="en-US" dir="ltr">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Cram Tests | Melange for React Devs</title>
    <meta name="description" content="A project-based, guided introduction to Melange and its ecosystem for React developers">
    <link rel="preload stylesheet" href="/assets/style.a3f53c04.css" as="style">
    
    <script type="module" src="/assets/app.856d9ef0.js"></script>
    <link rel="preload" href="/assets/inter-roman-latin.2ed14f66.woff2" as="font" type="font/woff2" crossorigin="">
    <link rel="modulepreload" href="/assets/chunks/framework.0e8ae64e.js">
    <link rel="modulepreload" href="/assets/chunks/theme.b7c579a6.js">
    <link rel="modulepreload" href="/assets/cram-tests_index.md.bc17ebf7.lean.js">
    <script id="check-dark-mode">(()=>{const e=localStorage.getItem("vitepress-theme-appearance")||"auto",a=window.matchMedia("(prefers-color-scheme: dark)").matches;(!e||e==="auto"?a:e==="dark")&&document.documentElement.classList.add("dark")})();</script>
    <script id="check-mac-os">document.documentElement.classList.toggle("mac",/Mac|iPhone|iPod|iPad/i.test(navigator.platform));</script>
  </head>
  <body>
    <div id="app"><div class="Layout" data-v-9d8abc1e><!--[--><!--]--><!--[--><span tabindex="-1" data-v-c8291ffa></span><a href="#VPContent" class="VPSkipLink visually-hidden" data-v-c8291ffa> Skip to content </a><!--]--><!----><header class="VPNav" data-v-9d8abc1e data-v-7ad780c2><div class="VPNavBar has-sidebar" data-v-7ad780c2 data-v-f1abbc6e><div class="container" data-v-f1abbc6e><div class="title" data-v-f1abbc6e><div class="VPNavBarTitle has-sidebar" data-v-f1abbc6e data-v-2973dbb4><a class="title" href="/" data-v-2973dbb4><!--[--><!--]--><!----><!--[-->Melange for React Devs<!--]--><!--[--><!--]--></a></div></div><div class="content" data-v-f1abbc6e><div class="curtain" data-v-f1abbc6e></div><div class="content-body" data-v-f1abbc6e><!--[--><!--]--><div class="VPNavBarSearch search" data-v-f1abbc6e><!--[--><!----><div id="local-search"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg class="DocSearch-Search-Icon" width="20" height="20" viewBox="0 0 20 20" aria-label="search icon"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"><kbd class="DocSearch-Button-Key"></kbd><kbd class="DocSearch-Button-Key">K</kbd></span></button></div><!--]--></div><nav aria-labelledby="main-nav-aria-label" class="VPNavBarMenu menu" data-v-f1abbc6e data-v-f732b5d0><span id="main-nav-aria-label" class="visually-hidden" data-v-f732b5d0>Main Navigation</span><!--[--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/" tabindex="0" data-v-f732b5d0 data-v-cb318fec><!--[--><span data-v-cb318fec>Home</span><!--]--></a><!--]--><!--[--><a class="VPLink link vp-external-link-icon VPNavBarMenuLink" href="https://melange.re" target="_blank" rel="noreferrer" tabindex="0" data-v-f732b5d0 data-v-cb318fec><!--[--><span data-v-cb318fec>Melange</span><!--]--></a><!--]--><!--[--><a class="VPLink link vp-external-link-icon VPNavBarMenuLink" href="https://reasonml.github.io/reason-react/" target="_blank" rel="noreferrer" tabindex="0" data-v-f732b5d0 data-v-cb318fec><!--[--><span data-v-cb318fec>ReasonReact</span><!--]--></a><!--]--><!--]--></nav><!----><div class="VPNavBarAppearance appearance" data-v-f1abbc6e data-v-283b26e9><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title="toggle dark mode" aria-checked="false" data-v-283b26e9 data-v-3329432d data-v-1c29e291><span class="check" data-v-1c29e291><span class="icon" data-v-1c29e291><!--[--><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="sun" data-v-3329432d><path d="M12,18c-3.3,0-6-2.7-6-6s2.7-6,6-6s6,2.7,6,6S15.3,18,12,18zM12,8c-2.2,0-4,1.8-4,4c0,2.2,1.8,4,4,4c2.2,0,4-1.8,4-4C16,9.8,14.2,8,12,8z"></path><path d="M12,4c-0.6,0-1-0.4-1-1V1c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,3.6,12.6,4,12,4z"></path><path d="M12,24c-0.6,0-1-0.4-1-1v-2c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,23.6,12.6,24,12,24z"></path><path d="M5.6,6.6c-0.3,0-0.5-0.1-0.7-0.3L3.5,4.9c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C6.2,6.5,5.9,6.6,5.6,6.6z"></path><path d="M19.8,20.8c-0.3,0-0.5-0.1-0.7-0.3l-1.4-1.4c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C20.3,20.7,20,20.8,19.8,20.8z"></path><path d="M3,13H1c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S3.6,13,3,13z"></path><path d="M23,13h-2c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S23.6,13,23,13z"></path><path d="M4.2,20.8c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C4.7,20.7,4.5,20.8,4.2,20.8z"></path><path d="M18.4,6.6c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C18.9,6.5,18.6,6.6,18.4,6.6z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="moon" data-v-3329432d><path d="M12.1,22c-0.3,0-0.6,0-0.9,0c-5.5-0.5-9.5-5.4-9-10.9c0.4-4.8,4.2-8.6,9-9c0.4,0,0.8,0.2,1,0.5c0.2,0.3,0.2,0.8-0.1,1.1c-2,2.7-1.4,6.4,1.3,8.4c2.1,1.6,5,1.6,7.1,0c0.3-0.2,0.7-0.3,1.1-0.1c0.3,0.2,0.5,0.6,0.5,1c-0.2,2.7-1.5,5.1-3.6,6.8C16.6,21.2,14.4,22,12.1,22zM9.3,4.4c-2.9,1-5,3.6-5.2,6.8c-0.4,4.4,2.8,8.3,7.2,8.7c2.1,0.2,4.2-0.4,5.8-1.8c1.1-0.9,1.9-2.1,2.4-3.4c-2.5,0.9-5.3,0.5-7.5-1.1C9.2,11.4,8.1,7.7,9.3,4.4z"></path></svg><!--]--></span></span></button></div><div class="VPSocialLinks VPNavBarSocialLinks social-links" data-v-f1abbc6e data-v-ef6192dc data-v-e71e869c><!--[--><a class="VPSocialLink no-icon" href="https://github.com/melange-re/melange-for-react-devs" aria-label="github" target="_blank" rel="noopener" data-v-e71e869c data-v-16cf740a><svg role="img" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><title>GitHub</title><path d="M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"/></svg></a><!--]--></div><div class="VPFlyout VPNavBarExtra extra" data-v-f1abbc6e data-v-c8c2ae4b data-v-aa8de344><button type="button" class="button" aria-haspopup="true" aria-expanded="false" aria-label="extra navigation" data-v-aa8de344><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="icon" data-v-aa8de344><circle cx="12" cy="12" r="2"></circle><circle cx="19" cy="12" r="2"></circle><circle cx="5" cy="12" r="2"></circle></svg></button><div class="menu" data-v-aa8de344><div class="VPMenu" data-v-aa8de344 data-v-e42ed9b3><!----><!--[--><!--[--><!----><div class="group" data-v-c8c2ae4b><div class="item appearance" data-v-c8c2ae4b><p class="label" data-v-c8c2ae4b>Appearance</p><div class="appearance-action" data-v-c8c2ae4b><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title="toggle dark mode" aria-checked="false" data-v-c8c2ae4b data-v-3329432d data-v-1c29e291><span class="check" data-v-1c29e291><span class="icon" data-v-1c29e291><!--[--><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="sun" data-v-3329432d><path d="M12,18c-3.3,0-6-2.7-6-6s2.7-6,6-6s6,2.7,6,6S15.3,18,12,18zM12,8c-2.2,0-4,1.8-4,4c0,2.2,1.8,4,4,4c2.2,0,4-1.8,4-4C16,9.8,14.2,8,12,8z"></path><path d="M12,4c-0.6,0-1-0.4-1-1V1c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,3.6,12.6,4,12,4z"></path><path d="M12,24c-0.6,0-1-0.4-1-1v-2c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,23.6,12.6,24,12,24z"></path><path d="M5.6,6.6c-0.3,0-0.5-0.1-0.7-0.3L3.5,4.9c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C6.2,6.5,5.9,6.6,5.6,6.6z"></path><path d="M19.8,20.8c-0.3,0-0.5-0.1-0.7-0.3l-1.4-1.4c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C20.3,20.7,20,20.8,19.8,20.8z"></path><path d="M3,13H1c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S3.6,13,3,13z"></path><path d="M23,13h-2c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S23.6,13,23,13z"></path><path d="M4.2,20.8c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C4.7,20.7,4.5,20.8,4.2,20.8z"></path><path d="M18.4,6.6c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C18.9,6.5,18.6,6.6,18.4,6.6z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="moon" data-v-3329432d><path d="M12.1,22c-0.3,0-0.6,0-0.9,0c-5.5-0.5-9.5-5.4-9-10.9c0.4-4.8,4.2-8.6,9-9c0.4,0,0.8,0.2,1,0.5c0.2,0.3,0.2,0.8-0.1,1.1c-2,2.7-1.4,6.4,1.3,8.4c2.1,1.6,5,1.6,7.1,0c0.3-0.2,0.7-0.3,1.1-0.1c0.3,0.2,0.5,0.6,0.5,1c-0.2,2.7-1.5,5.1-3.6,6.8C16.6,21.2,14.4,22,12.1,22zM9.3,4.4c-2.9,1-5,3.6-5.2,6.8c-0.4,4.4,2.8,8.3,7.2,8.7c2.1,0.2,4.2-0.4,5.8-1.8c1.1-0.9,1.9-2.1,2.4-3.4c-2.5,0.9-5.3,0.5-7.5-1.1C9.2,11.4,8.1,7.7,9.3,4.4z"></path></svg><!--]--></span></span></button></div></div></div><div class="group" data-v-c8c2ae4b><div class="item social-links" data-v-c8c2ae4b><div class="VPSocialLinks social-links-list" data-v-c8c2ae4b data-v-e71e869c><!--[--><a class="VPSocialLink no-icon" href="https://github.com/melange-re/melange-for-react-devs" aria-label="github" target="_blank" rel="noopener" data-v-e71e869c data-v-16cf740a><svg role="img" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><title>GitHub</title><path d="M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"/></svg></a><!--]--></div></div></div><!--]--><!--]--></div></div></div><!--[--><!--]--><button type="button" class="VPNavBarHamburger hamburger" aria-label="mobile navigation" aria-expanded="false" aria-controls="VPNavScreen" data-v-f1abbc6e data-v-6bee1efd><span class="container" data-v-6bee1efd><span class="top" data-v-6bee1efd></span><span class="middle" data-v-6bee1efd></span><span class="bottom" data-v-6bee1efd></span></span></button></div></div></div></div><!----></header><div class="VPLocalNav reached-top" data-v-9d8abc1e data-v-9e669cc1><button class="menu" aria-expanded="false" aria-controls="VPSidebarNav" data-v-9e669cc1><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="menu-icon" data-v-9e669cc1><path d="M17,11H3c-0.6,0-1-0.4-1-1s0.4-1,1-1h14c0.6,0,1,0.4,1,1S17.6,11,17,11z"></path><path d="M21,7H3C2.4,7,2,6.6,2,6s0.4-1,1-1h18c0.6,0,1,0.4,1,1S21.6,7,21,7z"></path><path d="M21,15H3c-0.6,0-1-0.4-1-1s0.4-1,1-1h18c0.6,0,1,0.4,1,1S21.6,15,21,15z"></path><path d="M17,19H3c-0.6,0-1-0.4-1-1s0.4-1,1-1h14c0.6,0,1,0.4,1,1S17.6,19,17,19z"></path></svg><span class="menu-text" data-v-9e669cc1>Menu</span></button><div class="VPLocalNavOutlineDropdown" style="--vp-vh:0px;" data-v-9e669cc1 data-v-24251f6f><button data-v-24251f6f>Return to top</button><!----></div></div><aside class="VPSidebar" data-v-9d8abc1e data-v-ee2efba5><div class="curtain" data-v-ee2efba5></div><nav class="nav" id="VPSidebarNav" aria-labelledby="sidebar-aria-label" tabindex="-1" data-v-ee2efba5><span class="visually-hidden" id="sidebar-aria-label" data-v-ee2efba5> Sidebar Navigation </span><!--[--><!--]--><!--[--><div class="group" data-v-ee2efba5><section class="VPSidebarItem level-0 has-active" data-v-ee2efba5 data-v-bd01e0d5><div class="item" role="button" tabindex="0" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><h2 class="text" data-v-bd01e0d5>Chapters</h2><!----></div><div class="items" data-v-bd01e0d5><!--[--><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/intro/" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>Intro</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/installation/" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>Installation</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/counter/" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>Counter</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/numeric-types/" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>Numeric Types</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/celsius-converter-exception/" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>Celsius Converter</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/celsius-converter-option/" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>Celsius Converter Using Option</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/intro-to-dune/" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>Introduction to Dune</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/order-confirmation/" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>Order Confirmation</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/styling-with-css/" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>Styling with CSS</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/better-sandwiches/" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>Better Sandwiches</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/better-burgers/" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>Better Burgers</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/sandwich-tests/" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>Sandwich Tests</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/cram-tests/" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>Cram Tests</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/burger-discounts/" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>Burger Discounts</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/discounts-lists/" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>Discounts Using Lists</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/promo-codes/" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>Promo Codes</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/promo-component/" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>Promo Component</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-bd01e0d5 data-v-bd01e0d5><div class="item" data-v-bd01e0d5><div class="indicator" data-v-bd01e0d5></div><a class="VPLink link link" href="/order-with-promo/" data-v-bd01e0d5><!--[--><p class="text" data-v-bd01e0d5>Order with Promo</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><!--]--><!--[--><!--]--></nav></aside><div class="VPContent has-sidebar" id="VPContent" data-v-9d8abc1e data-v-3cf691b6><div class="VPDoc has-sidebar has-aside" data-v-3cf691b6 data-v-a3c25e27><!--[--><!--]--><div class="container" data-v-a3c25e27><div class="aside" data-v-a3c25e27><div class="aside-curtain" data-v-a3c25e27></div><div class="aside-container" data-v-a3c25e27><div class="aside-content" data-v-a3c25e27><div class="VPDocAside" data-v-a3c25e27 data-v-cb998dce><!--[--><!--]--><!--[--><!--]--><div class="VPDocAsideOutline" role="navigation" data-v-cb998dce data-v-3a6c4994><div class="content" data-v-3a6c4994><div class="outline-marker" data-v-3a6c4994></div><div class="outline-title" role="heading" aria-level="2" data-v-3a6c4994>On this page</div><nav aria-labelledby="doc-outline-aria-label" data-v-3a6c4994><span class="visually-hidden" id="doc-outline-aria-label" data-v-3a6c4994> Table of Contents for current page </span><ul class="root" data-v-3a6c4994 data-v-463da30f><!--[--><!--]--></ul></nav></div></div><!--[--><!--]--><div class="spacer" data-v-cb998dce></div><!--[--><!--]--><!----><!--[--><!--]--><!--[--><!--]--></div></div></div></div><div class="content" data-v-a3c25e27><div class="content-container" data-v-a3c25e27><!--[--><!--]--><!----><main class="main" data-v-a3c25e27><div style="position:relative;" class="vp-doc _cram-tests_" data-v-a3c25e27><div><h1 id="cram-tests" tabindex="-1">Cram Tests <a class="header-anchor" href="#cram-tests" aria-label="Permalink to &quot;Cram Tests&quot;">​</a></h1><p>Now that you have a set of unit tests for sandwich-related logic, you realize it would be nice to have some unit tests for burger-related logic as well. But adding a new command to your <code>test</code> npm script doesn’t feel like The OCaml Way, so you hop on the <a href="https://melange.re/v4.0.0/community.html#community" target="_blank" rel="noreferrer">Reason Discord chatroom</a> to ask for advice. MonadicFanatic1984 once again comes to your aid and points you toward <em>cram tests</em>.</p><h2 id="cram-tests-1" tabindex="-1">Cram tests <a class="header-anchor" href="#cram-tests-1" aria-label="Permalink to &quot;Cram tests&quot;">​</a></h2><p>A <a href="https://dune.readthedocs.io/en/stable/reference/cram.html" target="_blank" rel="noreferrer">cram test</a> is essentially a test that runs a command inside a sandbox, then compares the output with some expected output. Dune has built-in support for cram tests, which means:</p><ul><li>You can specify dependencies for a cram test inside your <code>dune</code> file</li><li>Cram tests are only run when their dependencies change</li><li>When you update cram tests, causing their output to change, you can easily <em>promote</em> the latest output to become the new expected output</li><li>You can run all tests using a single command that doesn’t need to refer to individual tests</li></ul><h2 id="cram-stanza" tabindex="-1"><code>cram</code> stanza <a class="header-anchor" href="#cram-stanza" aria-label="Permalink to &quot;`cram` stanza&quot;">​</a></h2><p>To add dependencies for your cram tests, you need to add a <a href="https://dune.readthedocs.io/en/stable/dune-files.html#cram-stanza" target="_blank" rel="noreferrer">cram stanza</a> to <code>src/order-confirmation/dune</code>:</p><div class="language-dune vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">dune</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#E1E4E8;">(cram</span></span>
<span class="line"><span style="color:#E1E4E8;"> (deps .</span><span style="color:#F97583;">/</span><span style="color:#E1E4E8;">output</span><span style="color:#F97583;">/</span><span style="color:#E1E4E8;">src</span><span style="color:#F97583;">/</span><span style="color:#E1E4E8;">order-confirmation</span><span style="color:#F97583;">/</span><span style="color:#E1E4E8;">SandwichTests.mjs))</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292E;">(cram</span></span>
<span class="line"><span style="color:#24292E;"> (deps .</span><span style="color:#D73A49;">/</span><span style="color:#24292E;">output</span><span style="color:#D73A49;">/</span><span style="color:#24292E;">src</span><span style="color:#D73A49;">/</span><span style="color:#24292E;">order-confirmation</span><span style="color:#D73A49;">/</span><span style="color:#24292E;">SandwichTests.mjs))</span></span></code></pre></div><p>This configuration tells Dune two things:</p><ul><li>Copy <code>./output/src/order-confirmation/SandwichTests.mjs</code> into the sandbox directory</li><li>Whenever <code>SandwichTests.re</code> (the immediate dependency for <code>./output/src/order-confirmation/SandwichTests.mjs</code>) changes, rebuild and re-run all the cram tests defined in the same directory as this <code>dune</code> file</li></ul><p>Note that we cannot use the same path to <code>SandwichTests.mjs</code> as we would if we were running this from the root directory of our project, because cram tests are run inside a sandbox directory (more on that later).</p><h2 id="add-tests-t-file" tabindex="-1">Add <code>tests.t</code> file <a class="header-anchor" href="#add-tests-t-file" aria-label="Permalink to &quot;Add `tests.t` file&quot;">​</a></h2><p>Cram tests are specified inside <code>.t</code> files. Add a new file <code>src/order-confirmation/tests.t</code>:</p><div class="language-cram vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">cram</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#6A737D;">Sandwich tests</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#F97583;">$</span><span style="color:#E1E4E8;"> node ./output/src/order-confirmation/SandwichTests.mjs</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6A737D;">Sandwich tests</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#D73A49;">$</span><span style="color:#24292E;"> node ./output/src/order-confirmation/SandwichTests.mjs</span></span></code></pre></div><p>Note that this is the same path for <code>SandwichTests.mjs</code> that we specified inside the <code>cram/deps</code> field.</p><p>To run tests, execute</p><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#B392F0;">dune</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">build</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">@runtest</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6F42C1;">dune</span><span style="color:#24292E;"> </span><span style="color:#032F62;">build</span><span style="color:#24292E;"> </span><span style="color:#032F62;">@runtest</span></span></code></pre></div><p>Here, <a href="https://dune.readthedocs.io/en/stable/reference/aliases.html#runtest" target="_blank" rel="noreferrer">@runtest</a> is a built-in <em>alias</em>. The above command builds whatever is needed by the tests and then runs the tests.</p><h2 id="aliases" tabindex="-1">Aliases <a class="header-anchor" href="#aliases" aria-label="Permalink to &quot;Aliases&quot;">​</a></h2><p>A Dune <a href="https://dune.readthedocs.io/en/stable/reference/aliases.html" target="_blank" rel="noreferrer">alias</a> is a virtual build target that other build targets can attach to. You can refer to aliases by name in build commands (like the one above), to build a specific subset of your build targets. In commands, we need to put <code>@</code> in front of the alias name to distinguish it from file names. Therefore when we refer to an alias, we put an <code>@</code> in front, e.g. <code>@runtest</code>, <code>@melange</code>, etc.</p><div class="tip custom-block"><p class="custom-block-title">TIP</p><p>Cram tests are automatically attached to the <code>@runtest</code> alias, and <code>melange.emit</code> stanzas are automatically attached to the <code>@melange</code> alias.</p></div><h2 id="promotion" tabindex="-1">Promotion <a class="header-anchor" href="#promotion" aria-label="Permalink to &quot;Promotion&quot;">​</a></h2><p>After running <code>dune build @runtest</code>, you should be able to see the output from the cram test you just added<sup class="footnote-ref"><a href="#fn1" id="fnref1">[1]</a></sup>:</p><div class="language-diff vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">diff</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#B392F0;font-weight:bold;">@@ -1,2 +1,27 @@</span></span>
<span class="line"><span style="color:#E1E4E8;"> Sandwich tests</span></span>
<span class="line"><span style="color:#E1E4E8;">   $ node ./output/src/cram-tests/SandwichTests.mjs</span></span>
<span class="line"><span style="color:#85E89D;">+  TAP version 13</span></span>
<span class="line"><span style="color:#85E89D;">+  # Subtest: Item.Sandwich.toEmoji</span></span>
<span class="line"><span style="color:#85E89D;">+  ok 1 - Item.Sandwich.toEmoji</span></span>
<span class="line"><span style="color:#85E89D;">+    ---</span></span>
<span class="line"><span style="color:#85E89D;">+    duration_ms: 2.173649</span></span>
<span class="line"><span style="color:#85E89D;">+    ...</span></span>
<span class="line"><span style="color:#85E89D;">+  # Subtest: Item.Sandwich.toPrice</span></span>
<span class="line"><span style="color:#85E89D;">+  ok 2 - Item.Sandwich.toPrice</span></span>
<span class="line"><span style="color:#85E89D;">+    ---</span></span>
<span class="line"><span style="color:#85E89D;">+    duration_ms: 0.216146</span></span>
<span class="line"><span style="color:#85E89D;">+    ...</span></span>
<span class="line"><span style="color:#85E89D;">+  # Subtest: Item.Sandwich.toPrice returns lower price for Turducken on Tuesdays</span></span>
<span class="line"><span style="color:#85E89D;">+  ok 3 - Item.Sandwich.toPrice returns lower price for Turducken on Tuesdays</span></span>
<span class="line"><span style="color:#85E89D;">+    ---</span></span>
<span class="line"><span style="color:#85E89D;">+    duration_ms: 0.106589</span></span>
<span class="line"><span style="color:#85E89D;">+    ...</span></span>
<span class="line"><span style="color:#85E89D;">+  1..3</span></span>
<span class="line"><span style="color:#85E89D;">+  # tests 3</span></span>
<span class="line"><span style="color:#85E89D;">+  # suites 0</span></span>
<span class="line"><span style="color:#85E89D;">+  # pass 3</span></span>
<span class="line"><span style="color:#85E89D;">+  # fail 0</span></span>
<span class="line"><span style="color:#85E89D;">+  # cancelled 0</span></span>
<span class="line"><span style="color:#85E89D;">+  # skipped 0</span></span>
<span class="line"><span style="color:#85E89D;">+  # todo 0</span></span>
<span class="line"><span style="color:#85E89D;">+  # duration_ms 0.111087</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6F42C1;font-weight:bold;">@@ -1,2 +1,27 @@</span></span>
<span class="line"><span style="color:#24292E;"> Sandwich tests</span></span>
<span class="line"><span style="color:#24292E;">   $ node ./output/src/cram-tests/SandwichTests.mjs</span></span>
<span class="line"><span style="color:#22863A;">+  TAP version 13</span></span>
<span class="line"><span style="color:#22863A;">+  # Subtest: Item.Sandwich.toEmoji</span></span>
<span class="line"><span style="color:#22863A;">+  ok 1 - Item.Sandwich.toEmoji</span></span>
<span class="line"><span style="color:#22863A;">+    ---</span></span>
<span class="line"><span style="color:#22863A;">+    duration_ms: 2.173649</span></span>
<span class="line"><span style="color:#22863A;">+    ...</span></span>
<span class="line"><span style="color:#22863A;">+  # Subtest: Item.Sandwich.toPrice</span></span>
<span class="line"><span style="color:#22863A;">+  ok 2 - Item.Sandwich.toPrice</span></span>
<span class="line"><span style="color:#22863A;">+    ---</span></span>
<span class="line"><span style="color:#22863A;">+    duration_ms: 0.216146</span></span>
<span class="line"><span style="color:#22863A;">+    ...</span></span>
<span class="line"><span style="color:#22863A;">+  # Subtest: Item.Sandwich.toPrice returns lower price for Turducken on Tuesdays</span></span>
<span class="line"><span style="color:#22863A;">+  ok 3 - Item.Sandwich.toPrice returns lower price for Turducken on Tuesdays</span></span>
<span class="line"><span style="color:#22863A;">+    ---</span></span>
<span class="line"><span style="color:#22863A;">+    duration_ms: 0.106589</span></span>
<span class="line"><span style="color:#22863A;">+    ...</span></span>
<span class="line"><span style="color:#22863A;">+  1..3</span></span>
<span class="line"><span style="color:#22863A;">+  # tests 3</span></span>
<span class="line"><span style="color:#22863A;">+  # suites 0</span></span>
<span class="line"><span style="color:#22863A;">+  # pass 3</span></span>
<span class="line"><span style="color:#22863A;">+  # fail 0</span></span>
<span class="line"><span style="color:#22863A;">+  # cancelled 0</span></span>
<span class="line"><span style="color:#22863A;">+  # skipped 0</span></span>
<span class="line"><span style="color:#22863A;">+  # todo 0</span></span>
<span class="line"><span style="color:#22863A;">+  # duration_ms 0.111087</span></span></code></pre></div><p>However, this doesn’t count as a passing cram test, because this output can’t be compared to any expected output. Dune has a nice feature that lets you <a href="https://dune.readthedocs.io/en/stable/concepts/promotion.html#promotion" target="_blank" rel="noreferrer">promote</a> the latest output of a cram test to become the expected output:</p><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#B392F0;">dune</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">promote</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6F42C1;">dune</span><span style="color:#24292E;"> </span><span style="color:#032F62;">promote</span></span></code></pre></div><p>The above command updates your <code>src/order-confirmation/tests.t</code> cram test file, which now looks something like this:</p><div class="language-cram vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">cram</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#6A737D;">Sandwich tests</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#F97583;">$</span><span style="color:#E1E4E8;"> node ./output/src/order-confirmation/SandwichTests.mjs</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#9ECBFF;">TAP version 13</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#9ECBFF;"># Subtest: Item.Sandwich.toEmoji</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#9ECBFF;">ok 1 - Item.Sandwich.toEmoji</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#9ECBFF;">  ---</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#9ECBFF;">  duration_ms: 1.821041</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#9ECBFF;">  ...</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#9ECBFF;"># Subtest: Item.Sandwich.toPrice</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#9ECBFF;">ok 2 - Item.Sandwich.toPrice</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#9ECBFF;">  ---</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#9ECBFF;">  duration_ms: 0.731916</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#9ECBFF;">  ...</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#9ECBFF;"># Subtest: Item.Sandwich.toPrice returns lower price for Turducken on Tuesdays</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#9ECBFF;">ok 3 - Item.Sandwich.toPrice returns lower price for Turducken on Tuesdays</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#9ECBFF;">  ---</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#9ECBFF;">  duration_ms: 0.086875</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#9ECBFF;">  ...</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#9ECBFF;">1..3</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#9ECBFF;"># tests 3</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#9ECBFF;"># suites 0</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#9ECBFF;"># pass 3</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#9ECBFF;"># fail 0</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#9ECBFF;"># cancelled 0</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#9ECBFF;"># skipped 0</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#9ECBFF;"># todo 0</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#9ECBFF;"># duration_ms 0.081042</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6A737D;">Sandwich tests</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#D73A49;">$</span><span style="color:#24292E;"> node ./output/src/order-confirmation/SandwichTests.mjs</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#032F62;">TAP version 13</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#032F62;"># Subtest: Item.Sandwich.toEmoji</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#032F62;">ok 1 - Item.Sandwich.toEmoji</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#032F62;">  ---</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#032F62;">  duration_ms: 1.821041</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#032F62;">  ...</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#032F62;"># Subtest: Item.Sandwich.toPrice</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#032F62;">ok 2 - Item.Sandwich.toPrice</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#032F62;">  ---</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#032F62;">  duration_ms: 0.731916</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#032F62;">  ...</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#032F62;"># Subtest: Item.Sandwich.toPrice returns lower price for Turducken on Tuesdays</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#032F62;">ok 3 - Item.Sandwich.toPrice returns lower price for Turducken on Tuesdays</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#032F62;">  ---</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#032F62;">  duration_ms: 0.086875</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#032F62;">  ...</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#032F62;">1..3</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#032F62;"># tests 3</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#032F62;"># suites 0</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#032F62;"># pass 3</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#032F62;"># fail 0</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#032F62;"># cancelled 0</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#032F62;"># skipped 0</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#032F62;"># todo 0</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#032F62;"># duration_ms 0.081042</span></span></code></pre></div><p>The part underneath the command is the expected output of the command.</p><h2 id="add-npm-scripts" tabindex="-1">Add <code>npm</code> scripts <a class="header-anchor" href="#add-npm-scripts" aria-label="Permalink to &quot;Add `npm` scripts&quot;">​</a></h2><p>Instead of typing <code>dune</code> commands over and over, let’s add the relevant <code>npm</code> scripts to your <code>package.json</code> file. Replace the current <code>test</code> script with these three scripts:</p><div class="language-json vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#9ECBFF;">&quot;test&quot;</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">&quot;npm run build -- @runtest&quot;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#9ECBFF;">&quot;test:watch&quot;</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">&quot;npm run build -- @runtest --watch&quot;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#9ECBFF;">&quot;promote&quot;</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">&quot;npm run dune -- promote&quot;</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#032F62;">&quot;test&quot;</span><span style="color:#24292E;">: </span><span style="color:#032F62;">&quot;npm run build -- @runtest&quot;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#032F62;">&quot;test:watch&quot;</span><span style="color:#24292E;">: </span><span style="color:#032F62;">&quot;npm run build -- @runtest --watch&quot;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#032F62;">&quot;promote&quot;</span><span style="color:#24292E;">: </span><span style="color:#032F62;">&quot;npm run dune -- promote&quot;</span></span></code></pre></div><p>Since JSON doesn’t support comments, you can optionally add some lines to the <code>scriptsComments</code> section of <code>package.json</code> to explain what each command does:</p><div class="language-json vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#9ECBFF;">&quot;test&quot;</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">&quot;# Run the tests&quot;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#9ECBFF;">&quot;test:watch&quot;</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">&quot;# Watch files and re-run tests&quot;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#9ECBFF;">&quot;promote&quot;</span><span style="color:#E1E4E8;">: </span><span style="color:#9ECBFF;">&quot;# Promote most recent output to expected output&quot;</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#032F62;">&quot;test&quot;</span><span style="color:#24292E;">: </span><span style="color:#032F62;">&quot;# Run the tests&quot;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#032F62;">&quot;test:watch&quot;</span><span style="color:#24292E;">: </span><span style="color:#032F62;">&quot;# Watch files and re-run tests&quot;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#032F62;">&quot;promote&quot;</span><span style="color:#24292E;">: </span><span style="color:#032F62;">&quot;# Promote most recent output to expected output&quot;</span></span></code></pre></div><p>Run <code>npm run test</code> to check that it works.</p><h2 id="sanitize-cram-test-output" tabindex="-1">Sanitize cram test output <a class="header-anchor" href="#sanitize-cram-test-output" aria-label="Permalink to &quot;Sanitize cram test output&quot;">​</a></h2><p>The cram test still doesn’t succeed, but now it’s because the most recent output and the expected output don’t match:</p><div class="language-diff vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">diff</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#B392F0;font-weight:bold;">@@ -4,17 +4,17 @@</span><span style="color:#E1E4E8;"> Sandwich tests</span></span>
<span class="line"><span style="color:#E1E4E8;">   # Subtest: Item.Sandwich.toEmoji</span></span>
<span class="line"><span style="color:#E1E4E8;">   ok 1 - Item.Sandwich.toEmoji</span></span>
<span class="line"><span style="color:#E1E4E8;">     ---</span></span>
<span class="line"><span style="color:#FDAEB7;">-    duration_ms: 2.225448</span></span>
<span class="line"><span style="color:#85E89D;">+    duration_ms: 3.012631</span></span>
<span class="line"><span style="color:#E1E4E8;">     ...</span></span>
<span class="line"><span style="color:#E1E4E8;">   # Subtest: Item.Sandwich.toPrice</span></span>
<span class="line"><span style="color:#E1E4E8;">   ok 2 - Item.Sandwich.toPrice</span></span>
<span class="line"><span style="color:#E1E4E8;">     ---</span></span>
<span class="line"><span style="color:#FDAEB7;">-    duration_ms: 0.262691</span></span>
<span class="line"><span style="color:#85E89D;">+    duration_ms: 0.276333</span></span>
<span class="line"><span style="color:#E1E4E8;">     ...</span></span>
<span class="line"><span style="color:#E1E4E8;">   # Subtest: Item.Sandwich.toPrice returns lower price for Turducken on Tuesdays</span></span>
<span class="line"><span style="color:#E1E4E8;">   ok 3 - Item.Sandwich.toPrice returns lower price for Turducken on Tuesdays</span></span>
<span class="line"><span style="color:#E1E4E8;">     ---</span></span>
<span class="line"><span style="color:#FDAEB7;">-    duration_ms: 0.109477</span></span>
<span class="line"><span style="color:#85E89D;">+    duration_ms: 0.140118</span></span>
<span class="line"><span style="color:#E1E4E8;">     ...</span></span>
<span class="line"><span style="color:#E1E4E8;">   1..3</span></span>
<span class="line"><span style="color:#E1E4E8;">   # tests 3</span></span>
<span class="line"><span style="color:#B392F0;font-weight:bold;">@@ -24,4 +24,4 @@</span><span style="color:#E1E4E8;"> Sandwich tests</span></span>
<span class="line"><span style="color:#E1E4E8;">   # cancelled 0</span></span>
<span class="line"><span style="color:#E1E4E8;">   # skipped 0</span></span>
<span class="line"><span style="color:#E1E4E8;">   # todo 0</span></span>
<span class="line"><span style="color:#FDAEB7;">-  # duration_ms 0.125331</span></span>
<span class="line"><span style="color:#85E89D;">+  # duration_ms 0.143172</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6F42C1;font-weight:bold;">@@ -4,17 +4,17 @@</span><span style="color:#24292E;"> Sandwich tests</span></span>
<span class="line"><span style="color:#24292E;">   # Subtest: Item.Sandwich.toEmoji</span></span>
<span class="line"><span style="color:#24292E;">   ok 1 - Item.Sandwich.toEmoji</span></span>
<span class="line"><span style="color:#24292E;">     ---</span></span>
<span class="line"><span style="color:#B31D28;">-    duration_ms: 2.225448</span></span>
<span class="line"><span style="color:#22863A;">+    duration_ms: 3.012631</span></span>
<span class="line"><span style="color:#24292E;">     ...</span></span>
<span class="line"><span style="color:#24292E;">   # Subtest: Item.Sandwich.toPrice</span></span>
<span class="line"><span style="color:#24292E;">   ok 2 - Item.Sandwich.toPrice</span></span>
<span class="line"><span style="color:#24292E;">     ---</span></span>
<span class="line"><span style="color:#B31D28;">-    duration_ms: 0.262691</span></span>
<span class="line"><span style="color:#22863A;">+    duration_ms: 0.276333</span></span>
<span class="line"><span style="color:#24292E;">     ...</span></span>
<span class="line"><span style="color:#24292E;">   # Subtest: Item.Sandwich.toPrice returns lower price for Turducken on Tuesdays</span></span>
<span class="line"><span style="color:#24292E;">   ok 3 - Item.Sandwich.toPrice returns lower price for Turducken on Tuesdays</span></span>
<span class="line"><span style="color:#24292E;">     ---</span></span>
<span class="line"><span style="color:#B31D28;">-    duration_ms: 0.109477</span></span>
<span class="line"><span style="color:#22863A;">+    duration_ms: 0.140118</span></span>
<span class="line"><span style="color:#24292E;">     ...</span></span>
<span class="line"><span style="color:#24292E;">   1..3</span></span>
<span class="line"><span style="color:#24292E;">   # tests 3</span></span>
<span class="line"><span style="color:#6F42C1;font-weight:bold;">@@ -24,4 +24,4 @@</span><span style="color:#24292E;"> Sandwich tests</span></span>
<span class="line"><span style="color:#24292E;">   # cancelled 0</span></span>
<span class="line"><span style="color:#24292E;">   # skipped 0</span></span>
<span class="line"><span style="color:#24292E;">   # todo 0</span></span>
<span class="line"><span style="color:#B31D28;">-  # duration_ms 0.125331</span></span>
<span class="line"><span style="color:#22863A;">+  # duration_ms 0.143172</span></span></code></pre></div><p>The problem is that the recorded durations for individual unit tests is a little bit different on each test run. Therefore we must <a href="https://dune.readthedocs.io/en/stable/tests.html#test-output-sanitation" target="_blank" rel="noreferrer">sanitize</a> the test output, i.e. remove the parts that are non-deterministic. Update your cram test command:</p><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#B392F0;">$</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">node</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">./output/src/order-confirmation/SandwichTests.mjs</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">|</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">sed</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&#39;/duration_ms/d&#39;</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6F42C1;">$</span><span style="color:#24292E;"> </span><span style="color:#032F62;">node</span><span style="color:#24292E;"> </span><span style="color:#032F62;">./output/src/order-confirmation/SandwichTests.mjs</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">|</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">sed</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&#39;/duration_ms/d&#39;</span></span></code></pre></div><p>Now the output of the command is piped to <code>sed &#39;/duration_ms/d&#39;</code>, which removes all the lines containing the string <code>duration_ms</code>.</p><p>Follow these steps to achieve your first successful cram test run:</p><ol><li>Run <code>npm run test:watch</code></li><li>It shows errors because the expected output still contains the <code>duration_ms</code> lines</li><li>Run <code>npm run promote</code> in another terminal to promote the latest output to the expected output</li><li>You should see <code>Success, waiting for filesystem changes...</code></li></ol><p>No test output means it succeeded. Somewhat unintuitively, when cram tests succeed, they remain silent!<sup class="footnote-ref"><a href="#fn2" id="fnref2">[2]</a></sup></p><h2 id="sandbox" tabindex="-1">Sandbox <a class="header-anchor" href="#sandbox" aria-label="Permalink to &quot;Sandbox&quot;">​</a></h2><p>All cram tests execute in a <a href="https://dune.readthedocs.io/en/stable/tests.html#sandboxing" target="_blank" rel="noreferrer">sandbox</a>. What goes into the sandbox directory is determined by the value of the <code>cram/deps</code> field in your <code>dune</code> file. Let’s write an explorative cram test that allows us to peek inside the sandbox. First, install the <a href="https://www.npmjs.com/package/tree-node-cli" target="_blank" rel="noreferrer">tree-node-cli package</a>:</p><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#B392F0;">npm</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">install</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">--save-dev</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">tree-node-cli</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6F42C1;">npm</span><span style="color:#24292E;"> </span><span style="color:#032F62;">install</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">--save-dev</span><span style="color:#24292E;"> </span><span style="color:#032F62;">tree-node-cli</span></span></code></pre></div><p>Then add a new cram test to <code>src/order-confirmation/tests.t</code>:</p><div class="language-cram vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">cram</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#6A737D;">See all the files inside the sandbox</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#F97583;">$</span><span style="color:#E1E4E8;"> npx tree</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6A737D;">See all the files inside the sandbox</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#D73A49;">$</span><span style="color:#24292E;"> npx tree</span></span></code></pre></div><p>If <code>npm run test:watch</code> is still running, you’ll immediately see some output like this:</p><div class="language-diff vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">diff</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#B392F0;font-weight:bold;">@@ -24,3 +24,8 @@</span><span style="color:#E1E4E8;"> Sandwich tests</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;"> See all the files inside the sandbox</span></span>
<span class="line"><span style="color:#E1E4E8;">   $ npx tree</span></span>
<span class="line"><span style="color:#85E89D;">+  order-confirmation</span></span>
<span class="line"><span style="color:#85E89D;">+  └── output</span></span>
<span class="line"><span style="color:#85E89D;">+      └── src</span></span>
<span class="line"><span style="color:#85E89D;">+          └── order-confirmation</span></span>
<span class="line"><span style="color:#85E89D;">+              └── SandwichTests.mjs</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6F42C1;font-weight:bold;">@@ -24,3 +24,8 @@</span><span style="color:#24292E;"> Sandwich tests</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;"> See all the files inside the sandbox</span></span>
<span class="line"><span style="color:#24292E;">   $ npx tree</span></span>
<span class="line"><span style="color:#22863A;">+  order-confirmation</span></span>
<span class="line"><span style="color:#22863A;">+  └── output</span></span>
<span class="line"><span style="color:#22863A;">+      └── src</span></span>
<span class="line"><span style="color:#22863A;">+          └── order-confirmation</span></span>
<span class="line"><span style="color:#22863A;">+              └── SandwichTests.mjs</span></span></code></pre></div><p>The sandbox directory only contains a single file <code>output/src/order-confirmation/SandwichTests.mjs</code>. Add another explorative cram test:</p><div class="language-cram vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">cram</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#6A737D;">Show detail of SandwichTests.mjs</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#F97583;">$</span><span style="color:#E1E4E8;"> ls -la ./output/src/order-confirmation/SandwichTests.mjs</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6A737D;">Show detail of SandwichTests.mjs</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#D73A49;">$</span><span style="color:#24292E;"> ls -la ./output/src/order-confirmation/SandwichTests.mjs</span></span></code></pre></div><p>The output should now look like this:</p><div class="language-diff vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">diff</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#B392F0;font-weight:bold;">@@ -24,6 +24,12 @@</span><span style="color:#E1E4E8;"> Sandwich tests</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;"> See all the files inside the sandbox</span></span>
<span class="line"><span style="color:#E1E4E8;">   $ npx tree</span></span>
<span class="line"><span style="color:#85E89D;">+  cram-tests</span></span>
<span class="line"><span style="color:#85E89D;">+  └── output</span></span>
<span class="line"><span style="color:#85E89D;">+      └── src</span></span>
<span class="line"><span style="color:#85E89D;">+          └── cram-tests</span></span>
<span class="line"><span style="color:#85E89D;">+              └── SandwichTests.mjs</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;"> Show detail of SandwichTests.mjs</span></span>
<span class="line"><span style="color:#E1E4E8;">   $ ls -la ./output/src/order-confirmation/SandwichTests.mjs</span></span>
<span class="line"><span style="color:#85E89D;">+  lrwxr-xr-x  1 fhsu  staff  86 Mar 16 22:09 ./output/src/order-confirmation/SandwichTests.mjs -&gt; ../../../../../../../../default/src/order-confirmation/output/src/order-confirmation/SandwichTests.mjs</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6F42C1;font-weight:bold;">@@ -24,6 +24,12 @@</span><span style="color:#24292E;"> Sandwich tests</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;"> See all the files inside the sandbox</span></span>
<span class="line"><span style="color:#24292E;">   $ npx tree</span></span>
<span class="line"><span style="color:#22863A;">+  cram-tests</span></span>
<span class="line"><span style="color:#22863A;">+  └── output</span></span>
<span class="line"><span style="color:#22863A;">+      └── src</span></span>
<span class="line"><span style="color:#22863A;">+          └── cram-tests</span></span>
<span class="line"><span style="color:#22863A;">+              └── SandwichTests.mjs</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;"> Show detail of SandwichTests.mjs</span></span>
<span class="line"><span style="color:#24292E;">   $ ls -la ./output/src/order-confirmation/SandwichTests.mjs</span></span>
<span class="line"><span style="color:#22863A;">+  lrwxr-xr-x  1 fhsu  staff  86 Mar 16 22:09 ./output/src/order-confirmation/SandwichTests.mjs -&gt; ../../../../../../../../default/src/order-confirmation/output/src/order-confirmation/SandwichTests.mjs</span></span></code></pre></div><p>From this, you can see that <code>./output/src/order-confirmation/SandwichTests.mjs</code> is actually a symbolic link which links to the real file inside your build directory, specifically this file:</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#e1e4e8;">_build/default/src/order-confirmation/output/src/order-confirmation/SandwichTests.mjs</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292e;">_build/default/src/order-confirmation/output/src/order-confirmation/SandwichTests.mjs</span></span></code></pre></div><p><code>SandwichTests.mjs</code> being a symbolic link explains why you can run the test successfully even when the rest of the <code>.mjs</code> files aren’t present in the sandbox directory.</p><h2 id="better-dependencies" tabindex="-1">Better dependencies <a class="header-anchor" href="#better-dependencies" aria-label="Permalink to &quot;Better dependencies&quot;">​</a></h2><p>There’s a problem with the cram test dependencies. The cram test is re-run if <code>SandwichTests.re</code> changes, but if <code>Item.re</code> (which <code>SandwichTests.re</code> depends on), were to change, it wouldn’t trigger a test re-run. To see this, make the following change to <code>Item.Sandwich.toEmoji</code>:</p><div class="language-reason vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">reason</span><pre class="shiki github-dark has-diff vp-code-dark"><code><span class="line"><span style="color:#F97583;">let</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">toEmoji</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> t </span><span style="color:#FDAEB7;">=&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#B392F0;">Printf</span><span style="color:#FDAEB7;">.</span><span style="color:#E1E4E8;">sprintf(</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#FDAEB7;">{</span><span style="color:#79B8FF;">js</span><span style="color:#FDAEB7;">|</span><span style="color:#DBEDFF;">🥪(%s)</span><span style="color:#FDAEB7;">|</span><span style="color:#79B8FF;">js</span><span style="color:#FDAEB7;">}</span><span style="color:#FDAEB7;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#F97583;">switch</span><span style="color:#E1E4E8;"> (t) {</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#FDAEB7;">|</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">Portabello</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=&gt;</span><span style="color:#E1E4E8;"> </span><span style="color:#FDAEB7;">{</span><span style="color:#79B8FF;">js</span><span style="color:#FDAEB7;">|</span><span style="color:#DBEDFF;">🍄</span><span style="color:#FDAEB7;">|</span><span style="color:#79B8FF;">js</span><span style="color:#FDAEB7;">}</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#FDAEB7;">|</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">Ham</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=&gt;</span><span style="color:#E1E4E8;"> </span><span style="color:#FDAEB7;">{</span><span style="color:#79B8FF;">js</span><span style="color:#FDAEB7;">|</span><span style="color:#DBEDFF;">🐷</span><span style="color:#FDAEB7;">|</span><span style="color:#79B8FF;">js</span><span style="color:#FDAEB7;">}</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#FDAEB7;">|</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">Unicorn</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=&gt;</span><span style="color:#E1E4E8;"> </span><span style="color:#FDAEB7;">{</span><span style="color:#79B8FF;">js</span><span style="color:#FDAEB7;">|</span><span style="color:#DBEDFF;">🦄</span><span style="color:#FDAEB7;">|</span><span style="color:#79B8FF;">js</span><span style="color:#FDAEB7;">}</span></span>
<span class="line diff remove"><span style="color:#E1E4E8;">    </span><span style="color:#FDAEB7;">|</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">Turducken</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=&gt;</span><span style="color:#E1E4E8;"> </span><span style="color:#FDAEB7;">{</span><span style="color:#79B8FF;">js</span><span style="color:#FDAEB7;">|</span><span style="color:#DBEDFF;">🦃🦆🐓</span><span style="color:#FDAEB7;">|</span><span style="color:#79B8FF;">js</span><span style="color:#FDAEB7;">}</span><span style="color:#E1E4E8;"> </span></span>
<span class="line diff add"><span style="color:#E1E4E8;">    </span><span style="color:#FDAEB7;">|</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">Turducken</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=&gt;</span><span style="color:#E1E4E8;"> </span><span style="color:#FDAEB7;">{</span><span style="color:#79B8FF;">js</span><span style="color:#FDAEB7;">|</span><span style="color:#DBEDFF;">🦃🦆🐓💩</span><span style="color:#FDAEB7;">|</span><span style="color:#79B8FF;">js</span><span style="color:#FDAEB7;">}</span><span style="color:#E1E4E8;"> </span></span>
<span class="line"><span style="color:#E1E4E8;">    }</span><span style="color:#FDAEB7;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">  )</span><span style="color:#FDAEB7;">;</span></span></code></pre><pre class="shiki github-light has-diff vp-code-light"><code><span class="line"><span style="color:#D73A49;">let</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">toEmoji</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> t </span><span style="color:#B31D28;">=&gt;</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#6F42C1;">Printf</span><span style="color:#B31D28;">.</span><span style="color:#24292E;">sprintf(</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#B31D28;">{</span><span style="color:#005CC5;">js</span><span style="color:#B31D28;">|</span><span style="color:#032F62;">🥪(%s)</span><span style="color:#B31D28;">|</span><span style="color:#005CC5;">js</span><span style="color:#B31D28;">}</span><span style="color:#B31D28;">,</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">switch</span><span style="color:#24292E;"> (t) {</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#B31D28;">|</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">Portabello</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=&gt;</span><span style="color:#24292E;"> </span><span style="color:#B31D28;">{</span><span style="color:#005CC5;">js</span><span style="color:#B31D28;">|</span><span style="color:#032F62;">🍄</span><span style="color:#B31D28;">|</span><span style="color:#005CC5;">js</span><span style="color:#B31D28;">}</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#B31D28;">|</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">Ham</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=&gt;</span><span style="color:#24292E;"> </span><span style="color:#B31D28;">{</span><span style="color:#005CC5;">js</span><span style="color:#B31D28;">|</span><span style="color:#032F62;">🐷</span><span style="color:#B31D28;">|</span><span style="color:#005CC5;">js</span><span style="color:#B31D28;">}</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#B31D28;">|</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">Unicorn</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=&gt;</span><span style="color:#24292E;"> </span><span style="color:#B31D28;">{</span><span style="color:#005CC5;">js</span><span style="color:#B31D28;">|</span><span style="color:#032F62;">🦄</span><span style="color:#B31D28;">|</span><span style="color:#005CC5;">js</span><span style="color:#B31D28;">}</span></span>
<span class="line diff remove"><span style="color:#24292E;">    </span><span style="color:#B31D28;">|</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">Turducken</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=&gt;</span><span style="color:#24292E;"> </span><span style="color:#B31D28;">{</span><span style="color:#005CC5;">js</span><span style="color:#B31D28;">|</span><span style="color:#032F62;">🦃🦆🐓</span><span style="color:#B31D28;">|</span><span style="color:#005CC5;">js</span><span style="color:#B31D28;">}</span><span style="color:#24292E;"> </span></span>
<span class="line diff add"><span style="color:#24292E;">    </span><span style="color:#B31D28;">|</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">Turducken</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=&gt;</span><span style="color:#24292E;"> </span><span style="color:#B31D28;">{</span><span style="color:#005CC5;">js</span><span style="color:#B31D28;">|</span><span style="color:#032F62;">🦃🦆🐓💩</span><span style="color:#B31D28;">|</span><span style="color:#005CC5;">js</span><span style="color:#B31D28;">}</span><span style="color:#24292E;"> </span></span>
<span class="line"><span style="color:#24292E;">    }</span><span style="color:#B31D28;">,</span></span>
<span class="line"><span style="color:#24292E;">  )</span><span style="color:#B31D28;">;</span></span></code></pre></div><p>In the terminal in which <code>npm run test:watch</code> is running, you would expect to see a failing test, but no errors appear. You have to add <code>(alias melange)</code> to <code>cram/deps</code>:</p><div class="language-dune vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">dune</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#E1E4E8;">(cram</span></span>
<span class="line"><span style="color:#E1E4E8;"> (deps</span></span>
<span class="line"><span style="color:#E1E4E8;">  (alias melange)</span></span>
<span class="line"><span style="color:#E1E4E8;">  .</span><span style="color:#F97583;">/</span><span style="color:#E1E4E8;">output</span><span style="color:#F97583;">/</span><span style="color:#E1E4E8;">src</span><span style="color:#F97583;">/</span><span style="color:#E1E4E8;">order-confirmation</span><span style="color:#F97583;">/</span><span style="color:#E1E4E8;">SandwichTests.mjs))</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292E;">(cram</span></span>
<span class="line"><span style="color:#24292E;"> (deps</span></span>
<span class="line"><span style="color:#24292E;">  (alias melange)</span></span>
<span class="line"><span style="color:#24292E;">  .</span><span style="color:#D73A49;">/</span><span style="color:#24292E;">output</span><span style="color:#D73A49;">/</span><span style="color:#24292E;">src</span><span style="color:#D73A49;">/</span><span style="color:#24292E;">order-confirmation</span><span style="color:#D73A49;">/</span><span style="color:#24292E;">SandwichTests.mjs))</span></span></code></pre></div><p>Now the test finally fails. The presence of <code>(alias melange)</code> means that all build targets attached to the <code>@melange</code> alias are now dependencies for the cram tests in this directory.</p><h2 id="expand-aliases-in-sandbox-stanza" tabindex="-1"><code>expand_aliases_in_sandbox</code> stanza <a class="header-anchor" href="#expand-aliases-in-sandbox-stanza" aria-label="Permalink to &quot;`expand_aliases_in_sandbox` stanza&quot;">​</a></h2><p>If you kept the <code>$ npx tree</code> cram test around, you’ll observe that even though all build targets attached to <code>@melange</code> are dependencies, they aren’t copied into the sandbox directory. You can change that behavior by adding the <a href="https://dune.readthedocs.io/en/stable/reference/dune-project/expand_aliases_in_sandbox.html" target="_blank" rel="noreferrer">expand_aliases_in_sandbox stanza</a> to your <code>dune-project</code> file:</p><div class="language-dune vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">dune</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#6A737D;">; Copy all build targets for an alias into the sandbox</span></span>
<span class="line"><span style="color:#E1E4E8;">(expand_aliases_in_sandbox)</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6A737D;">; Copy all build targets for an alias into the sandbox</span></span>
<span class="line"><span style="color:#24292E;">(expand_aliases_in_sandbox)</span></span></code></pre></div><p>The <code>npx tree</code> cram test makes it clear that a lot of files have been copied over to the sandbox directory. Since <code>SandwichTests.mjs</code> is a <code>@melange</code> build target too, it is redundant and can be removed from <code>cram/deps</code>:</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#e1e4e8;">(cram</span></span>
<span class="line"><span style="color:#e1e4e8;"> (deps</span></span>
<span class="line"><span style="color:#e1e4e8;">  (alias melange)))</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292e;">(cram</span></span>
<span class="line"><span style="color:#24292e;"> (deps</span></span>
<span class="line"><span style="color:#24292e;">  (alias melange)))</span></span></code></pre></div><p>Fix the bug in <code>Item.re</code>. The <code>SandwichTests</code> cram test should pass once more.</p><div class="warning custom-block"><p class="custom-block-title">WARNING</p><p>Using <code>expand_aliases_in_sandbox</code> is very convenient, but it may noticeably impact cram test performance. If you feel your cram tests are too slow, you should remove it and go back to putting <code>.mjs</code> files in your <code>cram/deps</code> field.</p></div><hr><p>Fantastico! You’ve set up Dune cram tests to streamline the testing process. In the next chapter, we’ll add logic for promotional discounts.</p><h2 id="overview" tabindex="-1">Overview <a class="header-anchor" href="#overview" aria-label="Permalink to &quot;Overview&quot;">​</a></h2><ul><li>A cram test runs a command inside a sandbox and compares the output of that command with some expected output</li><li>Dune has extensive support for cram tests, including the ability to promote the latest output to become the expected output</li><li>A <code>cram</code> stanza is used to specify dependencies for your cram tests</li><li>Cram test files have the <code>.t</code> extension</li><li>Aliases are virtual build targets that other build targets can be attached to</li><li>Cram tests that produce nondeterministic output must have their output be sanitized</li><li>Cram tests execute in a sandbox</li><li>For Melange projects, <code>(alias melange)</code> is generally the best dependency for your cram tests</li><li>The <code>expand_aliases_in_sandbox</code> stanza allows you to avoid having to put generated <code>.mjs</code> files in your cram test dependencies, at the cost of having slower cram tests</li></ul><h2 id="exercises" tabindex="-1">Exercises <a class="header-anchor" href="#exercises" aria-label="Permalink to &quot;Exercises&quot;">​</a></h2><p><b>1.</b> Add new source file <code>src/order-confirmation/BurgerTests.re</code>:</p><div class="language-re vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">re</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">open</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">Fest</span><span style="color:#FDAEB7;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">test(</span><span style="color:#DBEDFF;">&quot;A fully-loaded burger&quot;</span><span style="color:#FDAEB7;">,</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">()</span><span style="color:#E1E4E8;"> </span><span style="color:#FDAEB7;">=&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">  expect</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#FDAEB7;">|&gt;</span><span style="color:#E1E4E8;"> equal(</span></span>
<span class="line"><span style="color:#E1E4E8;">       </span><span style="color:#B392F0;">Item</span><span style="color:#FDAEB7;">.</span><span style="color:#B392F0;">Burger</span><span style="color:#FDAEB7;">.</span><span style="color:#E1E4E8;">toEmoji({</span></span>
<span class="line"><span style="color:#E1E4E8;">         </span><span style="color:#B392F0;">lettuce</span><span style="color:#FDAEB7;">:</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">true</span><span style="color:#FDAEB7;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">         </span><span style="color:#B392F0;">onions</span><span style="color:#FDAEB7;">:</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">2</span><span style="color:#FDAEB7;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">         </span><span style="color:#B392F0;">cheese</span><span style="color:#FDAEB7;">:</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">3</span><span style="color:#FDAEB7;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">         </span><span style="color:#B392F0;">tomatoes</span><span style="color:#FDAEB7;">:</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">true</span><span style="color:#FDAEB7;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">         </span><span style="color:#B392F0;">bacon</span><span style="color:#FDAEB7;">:</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">4</span><span style="color:#FDAEB7;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">       })</span><span style="color:#FDAEB7;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">       </span><span style="color:#FDAEB7;">{</span><span style="color:#79B8FF;">js</span><span style="color:#FDAEB7;">|</span><span style="color:#DBEDFF;">🍔</span><span style="color:#FDAEB7;">|</span><span style="color:#79B8FF;">js</span><span style="color:#FDAEB7;">}</span><span style="color:#FDAEB7;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">     )</span></span>
<span class="line"><span style="color:#E1E4E8;">)</span><span style="color:#FDAEB7;">;</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">open</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">Fest</span><span style="color:#B31D28;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">test(</span><span style="color:#032F62;">&quot;A fully-loaded burger&quot;</span><span style="color:#B31D28;">,</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">()</span><span style="color:#24292E;"> </span><span style="color:#B31D28;">=&gt;</span></span>
<span class="line"><span style="color:#24292E;">  expect</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#B31D28;">|&gt;</span><span style="color:#24292E;"> equal(</span></span>
<span class="line"><span style="color:#24292E;">       </span><span style="color:#6F42C1;">Item</span><span style="color:#B31D28;">.</span><span style="color:#6F42C1;">Burger</span><span style="color:#B31D28;">.</span><span style="color:#24292E;">toEmoji({</span></span>
<span class="line"><span style="color:#24292E;">         </span><span style="color:#6F42C1;">lettuce</span><span style="color:#B31D28;">:</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">true</span><span style="color:#B31D28;">,</span></span>
<span class="line"><span style="color:#24292E;">         </span><span style="color:#6F42C1;">onions</span><span style="color:#B31D28;">:</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">2</span><span style="color:#B31D28;">,</span></span>
<span class="line"><span style="color:#24292E;">         </span><span style="color:#6F42C1;">cheese</span><span style="color:#B31D28;">:</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">3</span><span style="color:#B31D28;">,</span></span>
<span class="line"><span style="color:#24292E;">         </span><span style="color:#6F42C1;">tomatoes</span><span style="color:#B31D28;">:</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">true</span><span style="color:#B31D28;">,</span></span>
<span class="line"><span style="color:#24292E;">         </span><span style="color:#6F42C1;">bacon</span><span style="color:#B31D28;">:</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">4</span><span style="color:#B31D28;">,</span></span>
<span class="line"><span style="color:#24292E;">       })</span><span style="color:#B31D28;">,</span></span>
<span class="line"><span style="color:#24292E;">       </span><span style="color:#B31D28;">{</span><span style="color:#005CC5;">js</span><span style="color:#B31D28;">|</span><span style="color:#032F62;">🍔</span><span style="color:#B31D28;">|</span><span style="color:#005CC5;">js</span><span style="color:#B31D28;">}</span><span style="color:#B31D28;">,</span></span>
<span class="line"><span style="color:#24292E;">     )</span></span>
<span class="line"><span style="color:#24292E;">)</span><span style="color:#B31D28;">;</span></span></code></pre></div><p>Fix the broken logic inside the test and add a new cram test for <code>BurgerTests</code> in <code>src/order-confirmation/tests.t</code>.</p><details class="details custom-block"><summary>Solution</summary><p>Fixed test:</p><div class="language-re vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">re</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#E1E4E8;">test(</span><span style="color:#DBEDFF;">&quot;A fully-loaded burger&quot;</span><span style="color:#FDAEB7;">,</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">()</span><span style="color:#E1E4E8;"> </span><span style="color:#FDAEB7;">=&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">  expect</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#FDAEB7;">|&gt;</span><span style="color:#E1E4E8;"> equal(</span></span>
<span class="line"><span style="color:#E1E4E8;">       </span><span style="color:#B392F0;">Item</span><span style="color:#FDAEB7;">.</span><span style="color:#B392F0;">Burger</span><span style="color:#FDAEB7;">.</span><span style="color:#E1E4E8;">toEmoji({</span></span>
<span class="line"><span style="color:#E1E4E8;">         </span><span style="color:#B392F0;">lettuce</span><span style="color:#FDAEB7;">:</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">true</span><span style="color:#FDAEB7;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">         </span><span style="color:#B392F0;">onions</span><span style="color:#FDAEB7;">:</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">2</span><span style="color:#FDAEB7;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">         </span><span style="color:#B392F0;">cheese</span><span style="color:#FDAEB7;">:</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">3</span><span style="color:#FDAEB7;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">         </span><span style="color:#B392F0;">tomatoes</span><span style="color:#FDAEB7;">:</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">true</span><span style="color:#FDAEB7;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">         </span><span style="color:#B392F0;">bacon</span><span style="color:#FDAEB7;">:</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">4</span><span style="color:#FDAEB7;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">       })</span><span style="color:#FDAEB7;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">       </span><span style="color:#FDAEB7;">{</span><span style="color:#79B8FF;">js</span><span style="color:#FDAEB7;">|</span><span style="color:#DBEDFF;">🍔{🥬,🍅,🧅×2,🧀×3,🥓×4}</span><span style="color:#FDAEB7;">|</span><span style="color:#79B8FF;">js</span><span style="color:#FDAEB7;">}</span><span style="color:#FDAEB7;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">     )</span></span>
<span class="line"><span style="color:#E1E4E8;">)</span><span style="color:#FDAEB7;">;</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292E;">test(</span><span style="color:#032F62;">&quot;A fully-loaded burger&quot;</span><span style="color:#B31D28;">,</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">()</span><span style="color:#24292E;"> </span><span style="color:#B31D28;">=&gt;</span></span>
<span class="line"><span style="color:#24292E;">  expect</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#B31D28;">|&gt;</span><span style="color:#24292E;"> equal(</span></span>
<span class="line"><span style="color:#24292E;">       </span><span style="color:#6F42C1;">Item</span><span style="color:#B31D28;">.</span><span style="color:#6F42C1;">Burger</span><span style="color:#B31D28;">.</span><span style="color:#24292E;">toEmoji({</span></span>
<span class="line"><span style="color:#24292E;">         </span><span style="color:#6F42C1;">lettuce</span><span style="color:#B31D28;">:</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">true</span><span style="color:#B31D28;">,</span></span>
<span class="line"><span style="color:#24292E;">         </span><span style="color:#6F42C1;">onions</span><span style="color:#B31D28;">:</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">2</span><span style="color:#B31D28;">,</span></span>
<span class="line"><span style="color:#24292E;">         </span><span style="color:#6F42C1;">cheese</span><span style="color:#B31D28;">:</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">3</span><span style="color:#B31D28;">,</span></span>
<span class="line"><span style="color:#24292E;">         </span><span style="color:#6F42C1;">tomatoes</span><span style="color:#B31D28;">:</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">true</span><span style="color:#B31D28;">,</span></span>
<span class="line"><span style="color:#24292E;">         </span><span style="color:#6F42C1;">bacon</span><span style="color:#B31D28;">:</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">4</span><span style="color:#B31D28;">,</span></span>
<span class="line"><span style="color:#24292E;">       })</span><span style="color:#B31D28;">,</span></span>
<span class="line"><span style="color:#24292E;">       </span><span style="color:#B31D28;">{</span><span style="color:#005CC5;">js</span><span style="color:#B31D28;">|</span><span style="color:#032F62;">🍔{🥬,🍅,🧅×2,🧀×3,🥓×4}</span><span style="color:#B31D28;">|</span><span style="color:#005CC5;">js</span><span style="color:#B31D28;">}</span><span style="color:#B31D28;">,</span></span>
<span class="line"><span style="color:#24292E;">     )</span></span>
<span class="line"><span style="color:#24292E;">)</span><span style="color:#B31D28;">;</span></span></code></pre></div><p>New cram test:</p><div class="language-cram vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">cram</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#6A737D;">Burger tests</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#F97583;">$</span><span style="color:#E1E4E8;"> node ./output/src/order-confirmation/BurgerTests.mjs | sed </span><span style="color:#9ECBFF;">&#39;/duration_ms/d&#39;</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#9ECBFF;">TAP version 13</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#9ECBFF;"># Subtest: A fully-loaded burger</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#9ECBFF;">ok 1 - A fully-loaded burger</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#9ECBFF;">  ---</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#9ECBFF;">  ...</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#9ECBFF;">1..1</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#9ECBFF;"># tests 1</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#9ECBFF;"># suites 0</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#9ECBFF;"># pass 1</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#9ECBFF;"># fail 0</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#9ECBFF;"># cancelled 0</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#9ECBFF;"># skipped 0</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#9ECBFF;"># todo 0</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6A737D;">Burger tests</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#D73A49;">$</span><span style="color:#24292E;"> node ./output/src/order-confirmation/BurgerTests.mjs | sed </span><span style="color:#032F62;">&#39;/duration_ms/d&#39;</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#032F62;">TAP version 13</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#032F62;"># Subtest: A fully-loaded burger</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#032F62;">ok 1 - A fully-loaded burger</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#032F62;">  ---</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#032F62;">  ...</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#032F62;">1..1</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#032F62;"># tests 1</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#032F62;"># suites 0</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#032F62;"># pass 1</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#032F62;"># fail 0</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#032F62;"># cancelled 0</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#032F62;"># skipped 0</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#032F62;"># todo 0</span></span></code></pre></div></details><p><b>2.</b> Add three more tests to <code>BurgerTests</code> module:</p><div class="language-reason vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">reason</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#E1E4E8;">test(</span><span style="color:#DBEDFF;">&quot;Burger with 0 of onions, cheese, or bacon doesn&#39;t show those emoji&quot;</span><span style="color:#FDAEB7;">,</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">()</span><span style="color:#E1E4E8;"> </span><span style="color:#FDAEB7;">=&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">  expect </span><span style="color:#FDAEB7;">|&gt;</span><span style="color:#E1E4E8;"> equal(</span><span style="color:#B392F0;">Item</span><span style="color:#FDAEB7;">.</span><span style="color:#B392F0;">Burger</span><span style="color:#FDAEB7;">.</span><span style="color:#E1E4E8;">toEmoji(</span><span style="color:#6A737D;">/* burger record */</span><span style="color:#E1E4E8;">)</span><span style="color:#FDAEB7;">,</span><span style="color:#E1E4E8;"> </span><span style="color:#FDAEB7;">{</span><span style="color:#79B8FF;">js</span><span style="color:#FDAEB7;">|</span><span style="color:#DBEDFF;">🍔</span><span style="color:#FDAEB7;">|</span><span style="color:#79B8FF;">js</span><span style="color:#FDAEB7;">}</span><span style="color:#E1E4E8;">)</span></span>
<span class="line"><span style="color:#E1E4E8;">)</span><span style="color:#FDAEB7;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">test(</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#DBEDFF;">&quot;Burger with 1 of onions, cheese, or bacon should show just the emoji without ×&quot;</span><span style="color:#FDAEB7;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#79B8FF;">()</span><span style="color:#E1E4E8;"> </span><span style="color:#FDAEB7;">=&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">  expect </span><span style="color:#FDAEB7;">|&gt;</span><span style="color:#E1E4E8;"> equal(</span><span style="color:#B392F0;">Item</span><span style="color:#FDAEB7;">.</span><span style="color:#B392F0;">Burger</span><span style="color:#FDAEB7;">.</span><span style="color:#E1E4E8;">toEmoji(</span><span style="color:#6A737D;">/* burger record */</span><span style="color:#E1E4E8;">)</span><span style="color:#FDAEB7;">,</span><span style="color:#E1E4E8;"> </span><span style="color:#FDAEB7;">{</span><span style="color:#79B8FF;">js</span><span style="color:#FDAEB7;">|</span><span style="color:#DBEDFF;">🍔</span><span style="color:#FDAEB7;">|</span><span style="color:#79B8FF;">js</span><span style="color:#FDAEB7;">}</span><span style="color:#E1E4E8;">)</span></span>
<span class="line"><span style="color:#E1E4E8;">)</span><span style="color:#FDAEB7;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">test(</span><span style="color:#DBEDFF;">&quot;Burger with 2 or more of onions, cheese, or bacon should show ×&quot;</span><span style="color:#FDAEB7;">,</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">()</span><span style="color:#E1E4E8;"> </span><span style="color:#FDAEB7;">=&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">  expect </span><span style="color:#FDAEB7;">|&gt;</span><span style="color:#E1E4E8;"> equal(</span><span style="color:#B392F0;">Item</span><span style="color:#FDAEB7;">.</span><span style="color:#B392F0;">Burger</span><span style="color:#FDAEB7;">.</span><span style="color:#E1E4E8;">toEmoji(</span><span style="color:#6A737D;">/* burger record */</span><span style="color:#E1E4E8;">)</span><span style="color:#FDAEB7;">,</span><span style="color:#E1E4E8;"> </span><span style="color:#FDAEB7;">{</span><span style="color:#79B8FF;">js</span><span style="color:#FDAEB7;">|</span><span style="color:#DBEDFF;">🍔</span><span style="color:#FDAEB7;">|</span><span style="color:#79B8FF;">js</span><span style="color:#FDAEB7;">}</span><span style="color:#E1E4E8;">)</span></span>
<span class="line"><span style="color:#E1E4E8;">)</span><span style="color:#FDAEB7;">;</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292E;">test(</span><span style="color:#032F62;">&quot;Burger with 0 of onions, cheese, or bacon doesn&#39;t show those emoji&quot;</span><span style="color:#B31D28;">,</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">()</span><span style="color:#24292E;"> </span><span style="color:#B31D28;">=&gt;</span></span>
<span class="line"><span style="color:#24292E;">  expect </span><span style="color:#B31D28;">|&gt;</span><span style="color:#24292E;"> equal(</span><span style="color:#6F42C1;">Item</span><span style="color:#B31D28;">.</span><span style="color:#6F42C1;">Burger</span><span style="color:#B31D28;">.</span><span style="color:#24292E;">toEmoji(</span><span style="color:#6A737D;">/* burger record */</span><span style="color:#24292E;">)</span><span style="color:#B31D28;">,</span><span style="color:#24292E;"> </span><span style="color:#B31D28;">{</span><span style="color:#005CC5;">js</span><span style="color:#B31D28;">|</span><span style="color:#032F62;">🍔</span><span style="color:#B31D28;">|</span><span style="color:#005CC5;">js</span><span style="color:#B31D28;">}</span><span style="color:#24292E;">)</span></span>
<span class="line"><span style="color:#24292E;">)</span><span style="color:#B31D28;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">test(</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#032F62;">&quot;Burger with 1 of onions, cheese, or bacon should show just the emoji without ×&quot;</span><span style="color:#B31D28;">,</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#005CC5;">()</span><span style="color:#24292E;"> </span><span style="color:#B31D28;">=&gt;</span></span>
<span class="line"><span style="color:#24292E;">  expect </span><span style="color:#B31D28;">|&gt;</span><span style="color:#24292E;"> equal(</span><span style="color:#6F42C1;">Item</span><span style="color:#B31D28;">.</span><span style="color:#6F42C1;">Burger</span><span style="color:#B31D28;">.</span><span style="color:#24292E;">toEmoji(</span><span style="color:#6A737D;">/* burger record */</span><span style="color:#24292E;">)</span><span style="color:#B31D28;">,</span><span style="color:#24292E;"> </span><span style="color:#B31D28;">{</span><span style="color:#005CC5;">js</span><span style="color:#B31D28;">|</span><span style="color:#032F62;">🍔</span><span style="color:#B31D28;">|</span><span style="color:#005CC5;">js</span><span style="color:#B31D28;">}</span><span style="color:#24292E;">)</span></span>
<span class="line"><span style="color:#24292E;">)</span><span style="color:#B31D28;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">test(</span><span style="color:#032F62;">&quot;Burger with 2 or more of onions, cheese, or bacon should show ×&quot;</span><span style="color:#B31D28;">,</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">()</span><span style="color:#24292E;"> </span><span style="color:#B31D28;">=&gt;</span></span>
<span class="line"><span style="color:#24292E;">  expect </span><span style="color:#B31D28;">|&gt;</span><span style="color:#24292E;"> equal(</span><span style="color:#6F42C1;">Item</span><span style="color:#B31D28;">.</span><span style="color:#6F42C1;">Burger</span><span style="color:#B31D28;">.</span><span style="color:#24292E;">toEmoji(</span><span style="color:#6A737D;">/* burger record */</span><span style="color:#24292E;">)</span><span style="color:#B31D28;">,</span><span style="color:#24292E;"> </span><span style="color:#B31D28;">{</span><span style="color:#005CC5;">js</span><span style="color:#B31D28;">|</span><span style="color:#032F62;">🍔</span><span style="color:#B31D28;">|</span><span style="color:#005CC5;">js</span><span style="color:#B31D28;">}</span><span style="color:#24292E;">)</span></span>
<span class="line"><span style="color:#24292E;">)</span><span style="color:#B31D28;">;</span></span></code></pre></div><p>Get the tests to pass and promote the new test output.</p><details class="details custom-block"><summary>Solution</summary><p>Fixed tests:</p><div class="language-re vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">re</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#E1E4E8;">test(</span><span style="color:#DBEDFF;">&quot;Burger with 0 of onions, cheese, or bacon doesn&#39;t show those emoji&quot;</span><span style="color:#FDAEB7;">,</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">()</span><span style="color:#E1E4E8;"> </span><span style="color:#FDAEB7;">=&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">  expect</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#FDAEB7;">|&gt;</span><span style="color:#E1E4E8;"> equal(</span></span>
<span class="line"><span style="color:#E1E4E8;">       </span><span style="color:#B392F0;">Item</span><span style="color:#FDAEB7;">.</span><span style="color:#B392F0;">Burger</span><span style="color:#FDAEB7;">.</span><span style="color:#E1E4E8;">toEmoji({</span></span>
<span class="line"><span style="color:#E1E4E8;">         </span><span style="color:#B392F0;">lettuce</span><span style="color:#FDAEB7;">:</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">true</span><span style="color:#FDAEB7;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">         </span><span style="color:#B392F0;">tomatoes</span><span style="color:#FDAEB7;">:</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">true</span><span style="color:#FDAEB7;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">         </span><span style="color:#B392F0;">onions</span><span style="color:#FDAEB7;">:</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">0</span><span style="color:#FDAEB7;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">         </span><span style="color:#B392F0;">cheese</span><span style="color:#FDAEB7;">:</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">0</span><span style="color:#FDAEB7;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">         </span><span style="color:#B392F0;">bacon</span><span style="color:#FDAEB7;">:</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">0</span><span style="color:#FDAEB7;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">       })</span><span style="color:#FDAEB7;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">       </span><span style="color:#FDAEB7;">{</span><span style="color:#79B8FF;">js</span><span style="color:#FDAEB7;">|</span><span style="color:#DBEDFF;">🍔{🥬,🍅}</span><span style="color:#FDAEB7;">|</span><span style="color:#79B8FF;">js</span><span style="color:#FDAEB7;">}</span><span style="color:#FDAEB7;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">     )</span></span>
<span class="line"><span style="color:#E1E4E8;">)</span><span style="color:#FDAEB7;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">test(</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#DBEDFF;">&quot;Burger with 1 of onions, cheese, or bacon should show just the emoji without ×&quot;</span><span style="color:#FDAEB7;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#79B8FF;">()</span><span style="color:#E1E4E8;"> </span><span style="color:#FDAEB7;">=&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">  expect</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#FDAEB7;">|&gt;</span><span style="color:#E1E4E8;"> equal(</span></span>
<span class="line"><span style="color:#E1E4E8;">       </span><span style="color:#B392F0;">Item</span><span style="color:#FDAEB7;">.</span><span style="color:#B392F0;">Burger</span><span style="color:#FDAEB7;">.</span><span style="color:#E1E4E8;">toEmoji({</span></span>
<span class="line"><span style="color:#E1E4E8;">         </span><span style="color:#B392F0;">lettuce</span><span style="color:#FDAEB7;">:</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">true</span><span style="color:#FDAEB7;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">         </span><span style="color:#B392F0;">tomatoes</span><span style="color:#FDAEB7;">:</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">true</span><span style="color:#FDAEB7;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">         </span><span style="color:#B392F0;">onions</span><span style="color:#FDAEB7;">:</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">1</span><span style="color:#FDAEB7;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">         </span><span style="color:#B392F0;">cheese</span><span style="color:#FDAEB7;">:</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">1</span><span style="color:#FDAEB7;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">         </span><span style="color:#B392F0;">bacon</span><span style="color:#FDAEB7;">:</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">1</span><span style="color:#FDAEB7;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">       })</span><span style="color:#FDAEB7;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">       </span><span style="color:#FDAEB7;">{</span><span style="color:#79B8FF;">js</span><span style="color:#FDAEB7;">|</span><span style="color:#DBEDFF;">🍔{🥬,🍅,🧅,🧀,🥓}</span><span style="color:#FDAEB7;">|</span><span style="color:#79B8FF;">js</span><span style="color:#FDAEB7;">}</span><span style="color:#FDAEB7;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">     )</span></span>
<span class="line"><span style="color:#E1E4E8;">)</span><span style="color:#FDAEB7;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">test(</span><span style="color:#DBEDFF;">&quot;Burger with 2 or more of onions, cheese, or bacon should show ×&quot;</span><span style="color:#FDAEB7;">,</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">()</span><span style="color:#E1E4E8;"> </span><span style="color:#FDAEB7;">=&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">  expect</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#FDAEB7;">|&gt;</span><span style="color:#E1E4E8;"> equal(</span></span>
<span class="line"><span style="color:#E1E4E8;">       </span><span style="color:#B392F0;">Item</span><span style="color:#FDAEB7;">.</span><span style="color:#B392F0;">Burger</span><span style="color:#FDAEB7;">.</span><span style="color:#E1E4E8;">toEmoji({</span></span>
<span class="line"><span style="color:#E1E4E8;">         </span><span style="color:#B392F0;">lettuce</span><span style="color:#FDAEB7;">:</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">true</span><span style="color:#FDAEB7;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">         </span><span style="color:#B392F0;">tomatoes</span><span style="color:#FDAEB7;">:</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">true</span><span style="color:#FDAEB7;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">         </span><span style="color:#B392F0;">onions</span><span style="color:#FDAEB7;">:</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">2</span><span style="color:#FDAEB7;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">         </span><span style="color:#B392F0;">cheese</span><span style="color:#FDAEB7;">:</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">2</span><span style="color:#FDAEB7;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">         </span><span style="color:#B392F0;">bacon</span><span style="color:#FDAEB7;">:</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">2</span><span style="color:#FDAEB7;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">       })</span><span style="color:#FDAEB7;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">       </span><span style="color:#FDAEB7;">{</span><span style="color:#79B8FF;">js</span><span style="color:#FDAEB7;">|</span><span style="color:#DBEDFF;">🍔{🥬,🍅,🧅×2,🧀×2,🥓×2}</span><span style="color:#FDAEB7;">|</span><span style="color:#79B8FF;">js</span><span style="color:#FDAEB7;">}</span><span style="color:#FDAEB7;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">     )</span></span>
<span class="line"><span style="color:#E1E4E8;">)</span><span style="color:#FDAEB7;">;</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292E;">test(</span><span style="color:#032F62;">&quot;Burger with 0 of onions, cheese, or bacon doesn&#39;t show those emoji&quot;</span><span style="color:#B31D28;">,</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">()</span><span style="color:#24292E;"> </span><span style="color:#B31D28;">=&gt;</span></span>
<span class="line"><span style="color:#24292E;">  expect</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#B31D28;">|&gt;</span><span style="color:#24292E;"> equal(</span></span>
<span class="line"><span style="color:#24292E;">       </span><span style="color:#6F42C1;">Item</span><span style="color:#B31D28;">.</span><span style="color:#6F42C1;">Burger</span><span style="color:#B31D28;">.</span><span style="color:#24292E;">toEmoji({</span></span>
<span class="line"><span style="color:#24292E;">         </span><span style="color:#6F42C1;">lettuce</span><span style="color:#B31D28;">:</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">true</span><span style="color:#B31D28;">,</span></span>
<span class="line"><span style="color:#24292E;">         </span><span style="color:#6F42C1;">tomatoes</span><span style="color:#B31D28;">:</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">true</span><span style="color:#B31D28;">,</span></span>
<span class="line"><span style="color:#24292E;">         </span><span style="color:#6F42C1;">onions</span><span style="color:#B31D28;">:</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">0</span><span style="color:#B31D28;">,</span></span>
<span class="line"><span style="color:#24292E;">         </span><span style="color:#6F42C1;">cheese</span><span style="color:#B31D28;">:</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">0</span><span style="color:#B31D28;">,</span></span>
<span class="line"><span style="color:#24292E;">         </span><span style="color:#6F42C1;">bacon</span><span style="color:#B31D28;">:</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">0</span><span style="color:#B31D28;">,</span></span>
<span class="line"><span style="color:#24292E;">       })</span><span style="color:#B31D28;">,</span></span>
<span class="line"><span style="color:#24292E;">       </span><span style="color:#B31D28;">{</span><span style="color:#005CC5;">js</span><span style="color:#B31D28;">|</span><span style="color:#032F62;">🍔{🥬,🍅}</span><span style="color:#B31D28;">|</span><span style="color:#005CC5;">js</span><span style="color:#B31D28;">}</span><span style="color:#B31D28;">,</span></span>
<span class="line"><span style="color:#24292E;">     )</span></span>
<span class="line"><span style="color:#24292E;">)</span><span style="color:#B31D28;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">test(</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#032F62;">&quot;Burger with 1 of onions, cheese, or bacon should show just the emoji without ×&quot;</span><span style="color:#B31D28;">,</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#005CC5;">()</span><span style="color:#24292E;"> </span><span style="color:#B31D28;">=&gt;</span></span>
<span class="line"><span style="color:#24292E;">  expect</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#B31D28;">|&gt;</span><span style="color:#24292E;"> equal(</span></span>
<span class="line"><span style="color:#24292E;">       </span><span style="color:#6F42C1;">Item</span><span style="color:#B31D28;">.</span><span style="color:#6F42C1;">Burger</span><span style="color:#B31D28;">.</span><span style="color:#24292E;">toEmoji({</span></span>
<span class="line"><span style="color:#24292E;">         </span><span style="color:#6F42C1;">lettuce</span><span style="color:#B31D28;">:</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">true</span><span style="color:#B31D28;">,</span></span>
<span class="line"><span style="color:#24292E;">         </span><span style="color:#6F42C1;">tomatoes</span><span style="color:#B31D28;">:</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">true</span><span style="color:#B31D28;">,</span></span>
<span class="line"><span style="color:#24292E;">         </span><span style="color:#6F42C1;">onions</span><span style="color:#B31D28;">:</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">1</span><span style="color:#B31D28;">,</span></span>
<span class="line"><span style="color:#24292E;">         </span><span style="color:#6F42C1;">cheese</span><span style="color:#B31D28;">:</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">1</span><span style="color:#B31D28;">,</span></span>
<span class="line"><span style="color:#24292E;">         </span><span style="color:#6F42C1;">bacon</span><span style="color:#B31D28;">:</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">1</span><span style="color:#B31D28;">,</span></span>
<span class="line"><span style="color:#24292E;">       })</span><span style="color:#B31D28;">,</span></span>
<span class="line"><span style="color:#24292E;">       </span><span style="color:#B31D28;">{</span><span style="color:#005CC5;">js</span><span style="color:#B31D28;">|</span><span style="color:#032F62;">🍔{🥬,🍅,🧅,🧀,🥓}</span><span style="color:#B31D28;">|</span><span style="color:#005CC5;">js</span><span style="color:#B31D28;">}</span><span style="color:#B31D28;">,</span></span>
<span class="line"><span style="color:#24292E;">     )</span></span>
<span class="line"><span style="color:#24292E;">)</span><span style="color:#B31D28;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">test(</span><span style="color:#032F62;">&quot;Burger with 2 or more of onions, cheese, or bacon should show ×&quot;</span><span style="color:#B31D28;">,</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">()</span><span style="color:#24292E;"> </span><span style="color:#B31D28;">=&gt;</span></span>
<span class="line"><span style="color:#24292E;">  expect</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#B31D28;">|&gt;</span><span style="color:#24292E;"> equal(</span></span>
<span class="line"><span style="color:#24292E;">       </span><span style="color:#6F42C1;">Item</span><span style="color:#B31D28;">.</span><span style="color:#6F42C1;">Burger</span><span style="color:#B31D28;">.</span><span style="color:#24292E;">toEmoji({</span></span>
<span class="line"><span style="color:#24292E;">         </span><span style="color:#6F42C1;">lettuce</span><span style="color:#B31D28;">:</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">true</span><span style="color:#B31D28;">,</span></span>
<span class="line"><span style="color:#24292E;">         </span><span style="color:#6F42C1;">tomatoes</span><span style="color:#B31D28;">:</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">true</span><span style="color:#B31D28;">,</span></span>
<span class="line"><span style="color:#24292E;">         </span><span style="color:#6F42C1;">onions</span><span style="color:#B31D28;">:</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">2</span><span style="color:#B31D28;">,</span></span>
<span class="line"><span style="color:#24292E;">         </span><span style="color:#6F42C1;">cheese</span><span style="color:#B31D28;">:</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">2</span><span style="color:#B31D28;">,</span></span>
<span class="line"><span style="color:#24292E;">         </span><span style="color:#6F42C1;">bacon</span><span style="color:#B31D28;">:</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">2</span><span style="color:#B31D28;">,</span></span>
<span class="line"><span style="color:#24292E;">       })</span><span style="color:#B31D28;">,</span></span>
<span class="line"><span style="color:#24292E;">       </span><span style="color:#B31D28;">{</span><span style="color:#005CC5;">js</span><span style="color:#B31D28;">|</span><span style="color:#032F62;">🍔{🥬,🍅,🧅×2,🧀×2,🥓×2}</span><span style="color:#B31D28;">|</span><span style="color:#005CC5;">js</span><span style="color:#B31D28;">}</span><span style="color:#B31D28;">,</span></span>
<span class="line"><span style="color:#24292E;">     )</span></span>
<span class="line"><span style="color:#24292E;">)</span><span style="color:#B31D28;">;</span></span></code></pre></div></details><p><b>3.</b> Recently, some Cafe Emoji customers have gotten into the habit of ordering burgers with an absurd number of toppings. You can barely even hold these monstrous burgers in your hands, and on the small chance that you manage to grab one, it will explode as soon as you bite into it. Madame Jellobutter has therefore decided that whenever someone orders a burger with more than 12 toppings, it will be served in a big bowl. Add the following test to <code>BurgerTests</code>:</p><div class="language-re vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">re</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#E1E4E8;">test(</span><span style="color:#DBEDFF;">&quot;Burger with more than 12 toppings should also show bowl emoji&quot;</span><span style="color:#FDAEB7;">,</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">()</span><span style="color:#E1E4E8;"> </span><span style="color:#FDAEB7;">=&gt;</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">  expect</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#FDAEB7;">|&gt;</span><span style="color:#E1E4E8;"> equal(</span></span>
<span class="line"><span style="color:#E1E4E8;">       </span><span style="color:#B392F0;">Item</span><span style="color:#FDAEB7;">.</span><span style="color:#B392F0;">Burger</span><span style="color:#FDAEB7;">.</span><span style="color:#E1E4E8;">toEmoji({</span></span>
<span class="line"><span style="color:#E1E4E8;">         </span><span style="color:#B392F0;">lettuce</span><span style="color:#FDAEB7;">:</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">true</span><span style="color:#FDAEB7;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">         </span><span style="color:#B392F0;">tomatoes</span><span style="color:#FDAEB7;">:</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">true</span><span style="color:#FDAEB7;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">         </span><span style="color:#B392F0;">onions</span><span style="color:#FDAEB7;">:</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">4</span><span style="color:#FDAEB7;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">         </span><span style="color:#B392F0;">cheese</span><span style="color:#FDAEB7;">:</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">2</span><span style="color:#FDAEB7;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">         </span><span style="color:#B392F0;">bacon</span><span style="color:#FDAEB7;">:</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">5</span><span style="color:#FDAEB7;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">       })</span><span style="color:#FDAEB7;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">       </span><span style="color:#FDAEB7;">{</span><span style="color:#79B8FF;">js</span><span style="color:#FDAEB7;">|</span><span style="color:#DBEDFF;">🍔🥣{🥬,🍅,🧅×4,🧀×2,🥓×5}</span><span style="color:#FDAEB7;">|</span><span style="color:#79B8FF;">js</span><span style="color:#FDAEB7;">}</span><span style="color:#FDAEB7;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">     )</span><span style="color:#FDAEB7;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">  expect</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#FDAEB7;">|&gt;</span><span style="color:#E1E4E8;"> equal(</span></span>
<span class="line"><span style="color:#E1E4E8;">       </span><span style="color:#B392F0;">Item</span><span style="color:#FDAEB7;">.</span><span style="color:#B392F0;">Burger</span><span style="color:#FDAEB7;">.</span><span style="color:#E1E4E8;">toEmoji({</span></span>
<span class="line"><span style="color:#E1E4E8;">         </span><span style="color:#B392F0;">lettuce</span><span style="color:#FDAEB7;">:</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">true</span><span style="color:#FDAEB7;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">         </span><span style="color:#B392F0;">tomatoes</span><span style="color:#FDAEB7;">:</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">true</span><span style="color:#FDAEB7;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">         </span><span style="color:#B392F0;">onions</span><span style="color:#FDAEB7;">:</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">4</span><span style="color:#FDAEB7;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">         </span><span style="color:#B392F0;">cheese</span><span style="color:#FDAEB7;">:</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">2</span><span style="color:#FDAEB7;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">         </span><span style="color:#B392F0;">bacon</span><span style="color:#FDAEB7;">:</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">4</span><span style="color:#FDAEB7;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">       })</span><span style="color:#FDAEB7;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">       </span><span style="color:#FDAEB7;">{</span><span style="color:#79B8FF;">js</span><span style="color:#FDAEB7;">|</span><span style="color:#DBEDFF;">🍔{🥬,🍅,🧅×4,🧀×2,🥓×4}</span><span style="color:#FDAEB7;">|</span><span style="color:#79B8FF;">js</span><span style="color:#FDAEB7;">}</span><span style="color:#FDAEB7;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">     )</span><span style="color:#FDAEB7;">;</span></span>
<span class="line"><span style="color:#E1E4E8;">})</span><span style="color:#FDAEB7;">;</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292E;">test(</span><span style="color:#032F62;">&quot;Burger with more than 12 toppings should also show bowl emoji&quot;</span><span style="color:#B31D28;">,</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">()</span><span style="color:#24292E;"> </span><span style="color:#B31D28;">=&gt;</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">  expect</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#B31D28;">|&gt;</span><span style="color:#24292E;"> equal(</span></span>
<span class="line"><span style="color:#24292E;">       </span><span style="color:#6F42C1;">Item</span><span style="color:#B31D28;">.</span><span style="color:#6F42C1;">Burger</span><span style="color:#B31D28;">.</span><span style="color:#24292E;">toEmoji({</span></span>
<span class="line"><span style="color:#24292E;">         </span><span style="color:#6F42C1;">lettuce</span><span style="color:#B31D28;">:</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">true</span><span style="color:#B31D28;">,</span></span>
<span class="line"><span style="color:#24292E;">         </span><span style="color:#6F42C1;">tomatoes</span><span style="color:#B31D28;">:</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">true</span><span style="color:#B31D28;">,</span></span>
<span class="line"><span style="color:#24292E;">         </span><span style="color:#6F42C1;">onions</span><span style="color:#B31D28;">:</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">4</span><span style="color:#B31D28;">,</span></span>
<span class="line"><span style="color:#24292E;">         </span><span style="color:#6F42C1;">cheese</span><span style="color:#B31D28;">:</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">2</span><span style="color:#B31D28;">,</span></span>
<span class="line"><span style="color:#24292E;">         </span><span style="color:#6F42C1;">bacon</span><span style="color:#B31D28;">:</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">5</span><span style="color:#B31D28;">,</span></span>
<span class="line"><span style="color:#24292E;">       })</span><span style="color:#B31D28;">,</span></span>
<span class="line"><span style="color:#24292E;">       </span><span style="color:#B31D28;">{</span><span style="color:#005CC5;">js</span><span style="color:#B31D28;">|</span><span style="color:#032F62;">🍔🥣{🥬,🍅,🧅×4,🧀×2,🥓×5}</span><span style="color:#B31D28;">|</span><span style="color:#005CC5;">js</span><span style="color:#B31D28;">}</span><span style="color:#B31D28;">,</span></span>
<span class="line"><span style="color:#24292E;">     )</span><span style="color:#B31D28;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">  expect</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#B31D28;">|&gt;</span><span style="color:#24292E;"> equal(</span></span>
<span class="line"><span style="color:#24292E;">       </span><span style="color:#6F42C1;">Item</span><span style="color:#B31D28;">.</span><span style="color:#6F42C1;">Burger</span><span style="color:#B31D28;">.</span><span style="color:#24292E;">toEmoji({</span></span>
<span class="line"><span style="color:#24292E;">         </span><span style="color:#6F42C1;">lettuce</span><span style="color:#B31D28;">:</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">true</span><span style="color:#B31D28;">,</span></span>
<span class="line"><span style="color:#24292E;">         </span><span style="color:#6F42C1;">tomatoes</span><span style="color:#B31D28;">:</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">true</span><span style="color:#B31D28;">,</span></span>
<span class="line"><span style="color:#24292E;">         </span><span style="color:#6F42C1;">onions</span><span style="color:#B31D28;">:</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">4</span><span style="color:#B31D28;">,</span></span>
<span class="line"><span style="color:#24292E;">         </span><span style="color:#6F42C1;">cheese</span><span style="color:#B31D28;">:</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">2</span><span style="color:#B31D28;">,</span></span>
<span class="line"><span style="color:#24292E;">         </span><span style="color:#6F42C1;">bacon</span><span style="color:#B31D28;">:</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">4</span><span style="color:#B31D28;">,</span></span>
<span class="line"><span style="color:#24292E;">       })</span><span style="color:#B31D28;">,</span></span>
<span class="line"><span style="color:#24292E;">       </span><span style="color:#B31D28;">{</span><span style="color:#005CC5;">js</span><span style="color:#B31D28;">|</span><span style="color:#032F62;">🍔{🥬,🍅,🧅×4,🧀×2,🥓×4}</span><span style="color:#B31D28;">|</span><span style="color:#005CC5;">js</span><span style="color:#B31D28;">}</span><span style="color:#B31D28;">,</span></span>
<span class="line"><span style="color:#24292E;">     )</span><span style="color:#B31D28;">;</span></span>
<span class="line"><span style="color:#24292E;">})</span><span style="color:#B31D28;">;</span></span></code></pre></div><p>Now update <code>Item.Burger.toEmoji</code> to make that test pass.</p><details class="details custom-block"><summary>Hint</summary><p>Note that <code>lettuce</code> and <code>tomatoes</code> each count as 1 topping.</p></details><details class="details custom-block"><summary>Solution</summary><p>New version of <code>Item.Burger.toEmoji</code>:</p><div class="language-re vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">re</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">let</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">toEmoji</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> t </span><span style="color:#FDAEB7;">=&gt;</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#F97583;">let</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">multiple</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> (emoji</span><span style="color:#FDAEB7;">,</span><span style="color:#E1E4E8;"> count) </span><span style="color:#FDAEB7;">=&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#F97583;">switch</span><span style="color:#E1E4E8;"> (count) {</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#FDAEB7;">|</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">0</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=&gt;</span><span style="color:#E1E4E8;"> </span><span style="color:#DBEDFF;">&quot;&quot;</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#FDAEB7;">|</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">1</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=&gt;</span><span style="color:#E1E4E8;"> emoji</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#FDAEB7;">|</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">count</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=&gt;</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">Printf</span><span style="color:#FDAEB7;">.</span><span style="color:#E1E4E8;">sprintf(</span><span style="color:#FDAEB7;">{</span><span style="color:#79B8FF;">js</span><span style="color:#FDAEB7;">|</span><span style="color:#DBEDFF;">%s×%d</span><span style="color:#FDAEB7;">|</span><span style="color:#79B8FF;">js</span><span style="color:#FDAEB7;">}</span><span style="color:#FDAEB7;">,</span><span style="color:#E1E4E8;"> emoji</span><span style="color:#FDAEB7;">,</span><span style="color:#E1E4E8;"> count)</span></span>
<span class="line"><span style="color:#E1E4E8;">    }</span><span style="color:#FDAEB7;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#F97583;">switch</span><span style="color:#E1E4E8;"> (t) {</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#FDAEB7;">|</span><span style="color:#E1E4E8;"> {</span><span style="color:#B392F0;">lettuce</span><span style="color:#FDAEB7;">:</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">false</span><span style="color:#FDAEB7;">,</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">onions</span><span style="color:#FDAEB7;">:</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">0</span><span style="color:#FDAEB7;">,</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">cheese</span><span style="color:#FDAEB7;">:</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">0</span><span style="color:#FDAEB7;">,</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">tomatoes</span><span style="color:#FDAEB7;">:</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">false</span><span style="color:#FDAEB7;">,</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">bacon</span><span style="color:#FDAEB7;">:</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">0</span><span style="color:#E1E4E8;">} </span><span style="color:#F97583;">=&gt;</span><span style="color:#E1E4E8;"> </span><span style="color:#FDAEB7;">{</span><span style="color:#79B8FF;">js</span><span style="color:#FDAEB7;">|</span><span style="color:#DBEDFF;">🍔</span><span style="color:#FDAEB7;">|</span><span style="color:#79B8FF;">js</span><span style="color:#FDAEB7;">}</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#FDAEB7;">|</span><span style="color:#E1E4E8;"> {</span><span style="color:#B392F0;">lettuce</span><span style="color:#FDAEB7;">,</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">onions</span><span style="color:#FDAEB7;">,</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">cheese</span><span style="color:#FDAEB7;">,</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">tomatoes</span><span style="color:#FDAEB7;">,</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">bacon</span><span style="color:#E1E4E8;">} </span><span style="color:#F97583;">=&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#F97583;">let</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">toppingsCount</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span></span>
<span class="line"><span style="color:#E1E4E8;">      (lettuce </span><span style="color:#FFAB70;">?</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">1</span><span style="color:#E1E4E8;"> </span><span style="color:#FDAEB7;">:</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">0</span><span style="color:#E1E4E8;">) </span><span style="color:#FDAEB7;">+</span><span style="color:#E1E4E8;"> (tomatoes </span><span style="color:#FFAB70;">?</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">1</span><span style="color:#E1E4E8;"> </span><span style="color:#FDAEB7;">:</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">0</span><span style="color:#E1E4E8;">) </span><span style="color:#FDAEB7;">+</span><span style="color:#E1E4E8;"> onions </span><span style="color:#FDAEB7;">+</span><span style="color:#E1E4E8;"> cheese </span><span style="color:#FDAEB7;">+</span><span style="color:#E1E4E8;"> bacon</span><span style="color:#FDAEB7;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#B392F0;">Printf</span><span style="color:#FDAEB7;">.</span><span style="color:#E1E4E8;">sprintf(</span></span>
<span class="line"><span style="color:#E1E4E8;">      </span><span style="color:#FDAEB7;">{</span><span style="color:#79B8FF;">js</span><span style="color:#FDAEB7;">|</span><span style="color:#DBEDFF;">🍔%s{%s}</span><span style="color:#FDAEB7;">|</span><span style="color:#79B8FF;">js</span><span style="color:#FDAEB7;">}</span><span style="color:#FDAEB7;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">      toppingsCount </span><span style="color:#FDAEB7;">&gt;</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">12</span><span style="color:#E1E4E8;"> </span><span style="color:#FFAB70;">?</span><span style="color:#E1E4E8;"> </span><span style="color:#FDAEB7;">{</span><span style="color:#79B8FF;">js</span><span style="color:#FDAEB7;">|</span><span style="color:#DBEDFF;">🥣</span><span style="color:#FDAEB7;">|</span><span style="color:#79B8FF;">js</span><span style="color:#FDAEB7;">}</span><span style="color:#E1E4E8;"> </span><span style="color:#FDAEB7;">:</span><span style="color:#E1E4E8;"> </span><span style="color:#DBEDFF;">&quot;&quot;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">      </span><span style="color:#79B8FF;">[|</span></span>
<span class="line"><span style="color:#E1E4E8;">        lettuce </span><span style="color:#FDAEB7;">?</span><span style="color:#E1E4E8;"> </span><span style="color:#FDAEB7;">{</span><span style="color:#79B8FF;">js</span><span style="color:#FDAEB7;">|</span><span style="color:#DBEDFF;">🥬</span><span style="color:#FDAEB7;">|</span><span style="color:#79B8FF;">js</span><span style="color:#FDAEB7;">}</span><span style="color:#E1E4E8;"> </span><span style="color:#FDAEB7;">:</span><span style="color:#E1E4E8;"> </span><span style="color:#DBEDFF;">&quot;&quot;</span><span style="color:#FDAEB7;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">        tomatoes </span><span style="color:#FDAEB7;">?</span><span style="color:#E1E4E8;"> </span><span style="color:#FDAEB7;">{</span><span style="color:#79B8FF;">js</span><span style="color:#FDAEB7;">|</span><span style="color:#DBEDFF;">🍅</span><span style="color:#FDAEB7;">|</span><span style="color:#79B8FF;">js</span><span style="color:#FDAEB7;">}</span><span style="color:#E1E4E8;"> </span><span style="color:#FDAEB7;">:</span><span style="color:#E1E4E8;"> </span><span style="color:#DBEDFF;">&quot;&quot;</span><span style="color:#FDAEB7;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">        multiple(</span><span style="color:#FDAEB7;">{</span><span style="color:#79B8FF;">js</span><span style="color:#FDAEB7;">|</span><span style="color:#DBEDFF;">🧅</span><span style="color:#FDAEB7;">|</span><span style="color:#79B8FF;">js</span><span style="color:#FDAEB7;">}</span><span style="color:#FDAEB7;">,</span><span style="color:#E1E4E8;"> onions)</span><span style="color:#FDAEB7;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">        multiple(</span><span style="color:#FDAEB7;">{</span><span style="color:#79B8FF;">js</span><span style="color:#FDAEB7;">|</span><span style="color:#DBEDFF;">🧀</span><span style="color:#FDAEB7;">|</span><span style="color:#79B8FF;">js</span><span style="color:#FDAEB7;">}</span><span style="color:#FDAEB7;">,</span><span style="color:#E1E4E8;"> cheese)</span><span style="color:#FDAEB7;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">        multiple(</span><span style="color:#FDAEB7;">{</span><span style="color:#79B8FF;">js</span><span style="color:#FDAEB7;">|</span><span style="color:#DBEDFF;">🥓</span><span style="color:#FDAEB7;">|</span><span style="color:#79B8FF;">js</span><span style="color:#FDAEB7;">}</span><span style="color:#FDAEB7;">,</span><span style="color:#E1E4E8;"> bacon)</span><span style="color:#FDAEB7;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">      </span><span style="color:#79B8FF;">|]</span></span>
<span class="line"><span style="color:#E1E4E8;">      </span><span style="color:#FDAEB7;">|&gt;</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">Js</span><span style="color:#FDAEB7;">.</span><span style="color:#B392F0;">Array</span><span style="color:#FDAEB7;">.</span><span style="color:#E1E4E8;">filter(~f</span><span style="color:#FDAEB7;">=</span><span style="color:#E1E4E8;">str </span><span style="color:#FDAEB7;">=&gt;</span><span style="color:#E1E4E8;"> str </span><span style="color:#FDAEB7;">!=</span><span style="color:#E1E4E8;"> </span><span style="color:#DBEDFF;">&quot;&quot;</span><span style="color:#E1E4E8;">)</span></span>
<span class="line"><span style="color:#E1E4E8;">      </span><span style="color:#FDAEB7;">|&gt;</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">Js</span><span style="color:#FDAEB7;">.</span><span style="color:#B392F0;">Array</span><span style="color:#FDAEB7;">.</span><span style="color:#E1E4E8;">join(~sep</span><span style="color:#FDAEB7;">=</span><span style="color:#DBEDFF;">&quot;,&quot;</span><span style="color:#E1E4E8;">),</span></span>
<span class="line"><span style="color:#E1E4E8;">    )</span><span style="color:#FDAEB7;">;</span></span>
<span class="line"><span style="color:#E1E4E8;">  }</span><span style="color:#FDAEB7;">;</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">let</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">toEmoji</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> t </span><span style="color:#B31D28;">=&gt;</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#D73A49;">let</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">multiple</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> (emoji</span><span style="color:#B31D28;">,</span><span style="color:#24292E;"> count) </span><span style="color:#B31D28;">=&gt;</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">switch</span><span style="color:#24292E;"> (count) {</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#B31D28;">|</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">0</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=&gt;</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&quot;&quot;</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#B31D28;">|</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">1</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=&gt;</span><span style="color:#24292E;"> emoji</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#B31D28;">|</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">count</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=&gt;</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">Printf</span><span style="color:#B31D28;">.</span><span style="color:#24292E;">sprintf(</span><span style="color:#B31D28;">{</span><span style="color:#005CC5;">js</span><span style="color:#B31D28;">|</span><span style="color:#032F62;">%s×%d</span><span style="color:#B31D28;">|</span><span style="color:#005CC5;">js</span><span style="color:#B31D28;">}</span><span style="color:#B31D28;">,</span><span style="color:#24292E;"> emoji</span><span style="color:#B31D28;">,</span><span style="color:#24292E;"> count)</span></span>
<span class="line"><span style="color:#24292E;">    }</span><span style="color:#B31D28;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#D73A49;">switch</span><span style="color:#24292E;"> (t) {</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#B31D28;">|</span><span style="color:#24292E;"> {</span><span style="color:#6F42C1;">lettuce</span><span style="color:#B31D28;">:</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">false</span><span style="color:#B31D28;">,</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">onions</span><span style="color:#B31D28;">:</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">0</span><span style="color:#B31D28;">,</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">cheese</span><span style="color:#B31D28;">:</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">0</span><span style="color:#B31D28;">,</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">tomatoes</span><span style="color:#B31D28;">:</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">false</span><span style="color:#B31D28;">,</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">bacon</span><span style="color:#B31D28;">:</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">0</span><span style="color:#24292E;">} </span><span style="color:#D73A49;">=&gt;</span><span style="color:#24292E;"> </span><span style="color:#B31D28;">{</span><span style="color:#005CC5;">js</span><span style="color:#B31D28;">|</span><span style="color:#032F62;">🍔</span><span style="color:#B31D28;">|</span><span style="color:#005CC5;">js</span><span style="color:#B31D28;">}</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#B31D28;">|</span><span style="color:#24292E;"> {</span><span style="color:#6F42C1;">lettuce</span><span style="color:#B31D28;">,</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">onions</span><span style="color:#B31D28;">,</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">cheese</span><span style="color:#B31D28;">,</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">tomatoes</span><span style="color:#B31D28;">,</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">bacon</span><span style="color:#24292E;">} </span><span style="color:#D73A49;">=&gt;</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">let</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">toppingsCount</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span></span>
<span class="line"><span style="color:#24292E;">      (lettuce </span><span style="color:#E36209;">?</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">1</span><span style="color:#24292E;"> </span><span style="color:#B31D28;">:</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">0</span><span style="color:#24292E;">) </span><span style="color:#B31D28;">+</span><span style="color:#24292E;"> (tomatoes </span><span style="color:#E36209;">?</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">1</span><span style="color:#24292E;"> </span><span style="color:#B31D28;">:</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">0</span><span style="color:#24292E;">) </span><span style="color:#B31D28;">+</span><span style="color:#24292E;"> onions </span><span style="color:#B31D28;">+</span><span style="color:#24292E;"> cheese </span><span style="color:#B31D28;">+</span><span style="color:#24292E;"> bacon</span><span style="color:#B31D28;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6F42C1;">Printf</span><span style="color:#B31D28;">.</span><span style="color:#24292E;">sprintf(</span></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#B31D28;">{</span><span style="color:#005CC5;">js</span><span style="color:#B31D28;">|</span><span style="color:#032F62;">🍔%s{%s}</span><span style="color:#B31D28;">|</span><span style="color:#005CC5;">js</span><span style="color:#B31D28;">}</span><span style="color:#B31D28;">,</span></span>
<span class="line"><span style="color:#24292E;">      toppingsCount </span><span style="color:#B31D28;">&gt;</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">12</span><span style="color:#24292E;"> </span><span style="color:#E36209;">?</span><span style="color:#24292E;"> </span><span style="color:#B31D28;">{</span><span style="color:#005CC5;">js</span><span style="color:#B31D28;">|</span><span style="color:#032F62;">🥣</span><span style="color:#B31D28;">|</span><span style="color:#005CC5;">js</span><span style="color:#B31D28;">}</span><span style="color:#24292E;"> </span><span style="color:#B31D28;">:</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&quot;&quot;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#005CC5;">[|</span></span>
<span class="line"><span style="color:#24292E;">        lettuce </span><span style="color:#B31D28;">?</span><span style="color:#24292E;"> </span><span style="color:#B31D28;">{</span><span style="color:#005CC5;">js</span><span style="color:#B31D28;">|</span><span style="color:#032F62;">🥬</span><span style="color:#B31D28;">|</span><span style="color:#005CC5;">js</span><span style="color:#B31D28;">}</span><span style="color:#24292E;"> </span><span style="color:#B31D28;">:</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&quot;&quot;</span><span style="color:#B31D28;">,</span></span>
<span class="line"><span style="color:#24292E;">        tomatoes </span><span style="color:#B31D28;">?</span><span style="color:#24292E;"> </span><span style="color:#B31D28;">{</span><span style="color:#005CC5;">js</span><span style="color:#B31D28;">|</span><span style="color:#032F62;">🍅</span><span style="color:#B31D28;">|</span><span style="color:#005CC5;">js</span><span style="color:#B31D28;">}</span><span style="color:#24292E;"> </span><span style="color:#B31D28;">:</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&quot;&quot;</span><span style="color:#B31D28;">,</span></span>
<span class="line"><span style="color:#24292E;">        multiple(</span><span style="color:#B31D28;">{</span><span style="color:#005CC5;">js</span><span style="color:#B31D28;">|</span><span style="color:#032F62;">🧅</span><span style="color:#B31D28;">|</span><span style="color:#005CC5;">js</span><span style="color:#B31D28;">}</span><span style="color:#B31D28;">,</span><span style="color:#24292E;"> onions)</span><span style="color:#B31D28;">,</span></span>
<span class="line"><span style="color:#24292E;">        multiple(</span><span style="color:#B31D28;">{</span><span style="color:#005CC5;">js</span><span style="color:#B31D28;">|</span><span style="color:#032F62;">🧀</span><span style="color:#B31D28;">|</span><span style="color:#005CC5;">js</span><span style="color:#B31D28;">}</span><span style="color:#B31D28;">,</span><span style="color:#24292E;"> cheese)</span><span style="color:#B31D28;">,</span></span>
<span class="line"><span style="color:#24292E;">        multiple(</span><span style="color:#B31D28;">{</span><span style="color:#005CC5;">js</span><span style="color:#B31D28;">|</span><span style="color:#032F62;">🥓</span><span style="color:#B31D28;">|</span><span style="color:#005CC5;">js</span><span style="color:#B31D28;">}</span><span style="color:#B31D28;">,</span><span style="color:#24292E;"> bacon)</span><span style="color:#B31D28;">,</span></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#005CC5;">|]</span></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#B31D28;">|&gt;</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">Js</span><span style="color:#B31D28;">.</span><span style="color:#6F42C1;">Array</span><span style="color:#B31D28;">.</span><span style="color:#24292E;">filter(~f</span><span style="color:#B31D28;">=</span><span style="color:#24292E;">str </span><span style="color:#B31D28;">=&gt;</span><span style="color:#24292E;"> str </span><span style="color:#B31D28;">!=</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&quot;&quot;</span><span style="color:#24292E;">)</span></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#B31D28;">|&gt;</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">Js</span><span style="color:#B31D28;">.</span><span style="color:#6F42C1;">Array</span><span style="color:#B31D28;">.</span><span style="color:#24292E;">join(~sep</span><span style="color:#B31D28;">=</span><span style="color:#032F62;">&quot;,&quot;</span><span style="color:#24292E;">),</span></span>
<span class="line"><span style="color:#24292E;">    )</span><span style="color:#B31D28;">;</span></span>
<span class="line"><span style="color:#24292E;">  }</span><span style="color:#B31D28;">;</span></span></code></pre></div></details><hr><p>View <a href="https://github.com/melange-re/melange-for-react-devs/blob/main/src/cram-tests/" target="_blank" rel="noreferrer">source code</a> and <a href="https://react-book.melange.re/demo/src/cram-tests/" target="_blank" rel="noreferrer">demo</a> for this chapter.</p><hr><hr class="footnotes-sep"><section class="footnotes"><ol class="footnotes-list"><li id="fn1" class="footnote-item"><p>You might notice that the output from Node test runner looks different when run inside a cram test. That’s because it uses different <a href="https://nodejs.org/api/test.html#test-reporters" target="_blank" rel="noreferrer">test reporters</a> depending on whether you run it directly or through another process. <a href="#fnref1" class="footnote-backref">↩︎</a></p></li><li id="fn2" class="footnote-item"><p>A successful cram test won’t print any output from the test, but you may see some logging that indicates that build targets were produced, e.g.</p><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#B392F0;">refmt</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">src/order-confirmation/Item.re.ml</span></span>
<span class="line"><span style="color:#B392F0;">ppx</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">src/order-confirmation/Item.re.pp.ml</span></span>
<span class="line"><span style="color:#B392F0;">ocamldep</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">src/order-confirmation/.output.mobjs/melange__Item.impl.d</span></span>
<span class="line"><span style="color:#B392F0;">melc</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">src/order-confirmation/.output.mobjs/melange/melange__Item.{cmi,cmj,cmt}</span></span>
<span class="line"><span style="color:#B392F0;">melc</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">src/order-confirmation/output/src/order-confirmation/Item.mjs</span></span>
<span class="line"><span style="color:#B392F0;">melc</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">src/order-confirmation/.output.mobjs/melange/melange__SandwichTests.{cmi,cmj,cmt}</span></span>
<span class="line"><span style="color:#B392F0;">melc</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">src/order-confirmation/.output.mobjs/melange/melange__Order.{cmi,cmj,cmt}</span></span>
<span class="line"><span style="color:#B392F0;">melc</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">src/order-confirmation/.output.mobjs/melange/melange__Index.{cmi,cmj,cmt}</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6F42C1;">refmt</span><span style="color:#24292E;"> </span><span style="color:#032F62;">src/order-confirmation/Item.re.ml</span></span>
<span class="line"><span style="color:#6F42C1;">ppx</span><span style="color:#24292E;"> </span><span style="color:#032F62;">src/order-confirmation/Item.re.pp.ml</span></span>
<span class="line"><span style="color:#6F42C1;">ocamldep</span><span style="color:#24292E;"> </span><span style="color:#032F62;">src/order-confirmation/.output.mobjs/melange__Item.impl.d</span></span>
<span class="line"><span style="color:#6F42C1;">melc</span><span style="color:#24292E;"> </span><span style="color:#032F62;">src/order-confirmation/.output.mobjs/melange/melange__Item.{cmi,cmj,cmt}</span></span>
<span class="line"><span style="color:#6F42C1;">melc</span><span style="color:#24292E;"> </span><span style="color:#032F62;">src/order-confirmation/output/src/order-confirmation/Item.mjs</span></span>
<span class="line"><span style="color:#6F42C1;">melc</span><span style="color:#24292E;"> </span><span style="color:#032F62;">src/order-confirmation/.output.mobjs/melange/melange__SandwichTests.{cmi,cmj,cmt}</span></span>
<span class="line"><span style="color:#6F42C1;">melc</span><span style="color:#24292E;"> </span><span style="color:#032F62;">src/order-confirmation/.output.mobjs/melange/melange__Order.{cmi,cmj,cmt}</span></span>
<span class="line"><span style="color:#6F42C1;">melc</span><span style="color:#24292E;"> </span><span style="color:#032F62;">src/order-confirmation/.output.mobjs/melange/melange__Index.{cmi,cmj,cmt}</span></span></code></pre></div> <a href="#fnref2" class="footnote-backref">↩︎</a></li></ol></section></div></div></main><footer class="VPDocFooter" data-v-a3c25e27 data-v-a2d931e4><!--[--><!--]--><div class="edit-info" data-v-a2d931e4><div class="edit-link" data-v-a2d931e4><a class="VPLink link vp-external-link-icon no-icon edit-link-button" href="https://github.com/melange-re/melange-for-react-devs/edit/main/docs/cram-tests/index.md" target="_blank" rel="noreferrer" data-v-a2d931e4><!--[--><svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24" class="edit-link-icon" aria-label="edit icon" data-v-a2d931e4><path d="M18,23H4c-1.7,0-3-1.3-3-3V6c0-1.7,1.3-3,3-3h7c0.6,0,1,0.4,1,1s-0.4,1-1,1H4C3.4,5,3,5.4,3,6v14c0,0.6,0.4,1,1,1h14c0.6,0,1-0.4,1-1v-7c0-0.6,0.4-1,1-1s1,0.4,1,1v7C21,21.7,19.7,23,18,23z"></path><path d="M8,17c-0.3,0-0.5-0.1-0.7-0.3C7,16.5,6.9,16.1,7,15.8l1-4c0-0.2,0.1-0.3,0.3-0.5l9.5-9.5c1.2-1.2,3.2-1.2,4.4,0c1.2,1.2,1.2,3.2,0,4.4l-9.5,9.5c-0.1,0.1-0.3,0.2-0.5,0.3l-4,1C8.2,17,8.1,17,8,17zM9.9,12.5l-0.5,2.1l2.1-0.5l9.3-9.3c0.4-0.4,0.4-1.1,0-1.6c-0.4-0.4-1.2-0.4-1.6,0l0,0L9.9,12.5z M18.5,2.5L18.5,2.5L18.5,2.5z"></path></svg> Edit this page<!--]--></a></div><div class="last-updated" data-v-a2d931e4><p class="VPLastUpdated" data-v-a2d931e4 data-v-19a7ae4e>Last updated: <time datetime="2024-05-22T16:36:18.000Z" data-v-19a7ae4e></time></p></div></div><nav class="prev-next" data-v-a2d931e4><div class="pager" data-v-a2d931e4><a class="pager-link prev" href="/sandwich-tests/" data-v-a2d931e4><span class="desc" data-v-a2d931e4>Previous page</span><span class="title" data-v-a2d931e4>Sandwich Tests</span></a></div><div class="pager" data-v-a2d931e4><a class="pager-link next" href="/burger-discounts/" data-v-a2d931e4><span class="desc" data-v-a2d931e4>Next page</span><span class="title" data-v-a2d931e4>Burger Discounts</span></a></div></nav></footer><!--[--><!--]--></div></div></div><!--[--><!--]--></div></div><!----><!--[--><!--]--></div></div>
    <script>window.__VP_HASH_MAP__=JSON.parse("{\"readme.md\":\"461d564e\",\"numeric-types_index.md\":\"3dbe55c3\",\"counter_index.md\":\"b6eabfff\",\"sandwich-tests_index.md\":\"4c9b79bc\",\"index.md\":\"91b45d04\",\"discounts-lists_index.md\":\"9c23cbcd\",\"todo.md\":\"1e7397f4\",\"better-burgers_index.md\":\"24a5a4bb\",\"celsius-converter-option_index.md\":\"57570bad\",\"celsius-converter-exception_index.md\":\"3ab4d8d6\",\"installation_index.md\":\"362cc9d8\",\"promo-codes_index.md\":\"0760ed00\",\"styling-with-css_index.md\":\"612b6339\",\"better-sandwiches_index.md\":\"e6d0ab12\",\"order-with-promo_index.md\":\"eb4dcb91\",\"intro_index.md\":\"d5530807\",\"intro-to-dune_index.md\":\"67e9431d\",\"cram-tests_index.md\":\"bc17ebf7\",\"order-confirmation_index.md\":\"9f2586ee\",\"promo-component_index.md\":\"f0789366\",\"burger-discounts_index.md\":\"1bcbc1bd\"}");window.__VP_SITE_DATA__=JSON.parse("{\"lang\":\"en-US\",\"dir\":\"ltr\",\"title\":\"Melange for React Devs\",\"description\":\"A project-based, guided introduction to Melange and its ecosystem for React developers\",\"base\":\"/\",\"head\":[],\"appearance\":true,\"themeConfig\":{\"search\":{\"provider\":\"local\"},\"editLink\":{\"pattern\":\"https://github.com/melange-re/melange-for-react-devs/edit/main/docs/:path\"},\"nav\":[{\"text\":\"Home\",\"link\":\"/\"},{\"text\":\"Melange\",\"link\":\"https://melange.re\"},{\"text\":\"ReasonReact\",\"link\":\"https://reasonml.github.io/reason-react/\"}],\"sidebar\":[{\"text\":\"Chapters\",\"items\":[{\"text\":\"Intro\",\"link\":\"/intro/\"},{\"text\":\"Installation\",\"link\":\"/installation/\"},{\"text\":\"Counter\",\"link\":\"/counter/\"},{\"text\":\"Numeric Types\",\"link\":\"/numeric-types/\"},{\"text\":\"Celsius Converter\",\"link\":\"/celsius-converter-exception/\"},{\"text\":\"Celsius Converter Using Option\",\"link\":\"/celsius-converter-option/\"},{\"text\":\"Introduction to Dune\",\"link\":\"/intro-to-dune/\"},{\"text\":\"Order Confirmation\",\"link\":\"/order-confirmation/\"},{\"text\":\"Styling with CSS\",\"link\":\"/styling-with-css/\"},{\"text\":\"Better Sandwiches\",\"link\":\"/better-sandwiches/\"},{\"text\":\"Better Burgers\",\"link\":\"/better-burgers/\"},{\"text\":\"Sandwich Tests\",\"link\":\"/sandwich-tests/\"},{\"text\":\"Cram Tests\",\"link\":\"/cram-tests/\"},{\"text\":\"Burger Discounts\",\"link\":\"/burger-discounts/\"},{\"text\":\"Discounts Using Lists\",\"link\":\"/discounts-lists/\"},{\"text\":\"Promo Codes\",\"link\":\"/promo-codes/\"},{\"text\":\"Promo Component\",\"link\":\"/promo-component/\"},{\"text\":\"Order with Promo\",\"link\":\"/order-with-promo/\"}]}],\"socialLinks\":[{\"icon\":\"github\",\"link\":\"https://github.com/melange-re/melange-for-react-devs\"}]},\"locales\":{},\"scrollOffset\":90,\"cleanUrls\":false}");</script>
    
  </body>
</html>